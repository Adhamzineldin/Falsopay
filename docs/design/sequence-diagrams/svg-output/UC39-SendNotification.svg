<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2097px" preserveAspectRatio="none" style="width:1214px;height:2097px;background:#FFFFFF;" version="1.1" viewBox="0 0 1214 2097" width="1214px" zoomAndPan="magnify"><title>UC-39: Send Notification</title><defs/><g><rect fill="#FFFFCC" height="28.0566" rx="2.5" ry="2.5" style="stroke:#FFDD88;stroke-width:3;" width="1203.5024" x="5" y="5"/><text fill="#000000" font-family="monospace" font-size="10" lengthAdjust="spacing" textLength="354.0576" x="10" y="20">Please&#160;use&#160;'!option&#160;handwritten&#160;true'&#160;to&#160;enable&#160;handwritten</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="164.1172" x="513.6926" y="67.5898">UC-39: Send Notification</text><g><title>Admin</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="23.8413" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="159.2754" y2="2015.3145"/></g><g><title>Admin Portal</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="257.3774" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="261.3052" x2="261.3052" y1="159.2754" y2="2015.3145"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="415.0337" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="418.1821" x2="418.1821" y1="159.2754" y2="2015.3145"/></g><g><title>Notification</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="613.1816" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="616.5542" x2="616.5542" y1="159.2754" y2="2015.3145"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="786.8696" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="790.5283" x2="790.5283" y1="159.2754" y2="2015.3145"/></g><g><title>FalsoPay App</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="877.79" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="881.2109" x2="881.2109" y1="159.2754" y2="2015.3145"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="1089.7925" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1093.0132" x2="1093.0132" y1="159.2754" y2="2015.3145"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1856.0391" width="8" x="1150.5371" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1153.5718" x2="1153.5718" y1="159.2754" y2="2015.3145"/></g><g class="participant participant-head" data-participant="admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6826" x="5" y="156.1992">Admin</text><ellipse cx="27.8413" cy="90.166" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.8413,98.166 L27.8413,125.166 M14.8413,106.166 L40.8413,106.166 M27.8413,125.166 L14.8413,140.166 M27.8413,125.166 L40.8413,140.166" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6826" x="5" y="2028.8477">Admin</text><ellipse cx="27.8413" cy="2040.4238" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.8413,2048.4238 L27.8413,2075.4238 M14.8413,2056.4238 L40.8413,2056.4238 M27.8413,2075.4238 L14.8413,2090.4238 M27.8413,2075.4238 L40.8413,2090.4238" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="portal"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1445" x="214.3052" y="126.666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1445" x="221.3052" y="148.1992">Admin Portal</text></g><g class="participant participant-tail" data-participant="portal"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1445" x="214.3052" y="2014.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1445" x="221.3052" y="2035.8477">Admin Portal</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="371.1821" y="126.666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="378.1821" y="148.1992">API Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="371.1821" y="2014.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="378.1821" y="2035.8477">API Gateway</text></g><g class="participant participant-head" data-participant="notifService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.2549" x="575.5542" y="109.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="582.5542" y="130.5898">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="593.8403" y="148.1992">Service</text></g><g class="participant participant-tail" data-participant="notifService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.2549" x="575.5542" y="2014.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="582.5542" y="2035.8477">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="593.8403" y="2053.457">Service</text></g><g class="participant participant-head" data-participant="userService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60.6826" x="760.5283" y="109.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="776.0903" y="130.5898">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="767.5283" y="148.1992">Service</text></g><g class="participant participant-tail" data-participant="userService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60.6826" x="760.5283" y="2014.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="776.0903" y="2035.8477">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="767.5283" y="2053.457">Service</text></g><g class="participant participant-head" data-participant="app"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="831.2109" y="126.666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="838.2109" y="148.1992">FalsoPay App</text></g><g class="participant participant-tail" data-participant="app"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="831.2109" y="2014.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="838.2109" y="2035.8477">FalsoPay App</text></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1076.0132" y="156.1992">User</text><ellipse cx="1093.7925" cy="90.166" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1093.7925,98.166 L1093.7925,125.166 M1080.7925,106.166 L1106.7925,106.166 M1093.7925,125.166 L1080.7925,140.166 M1093.7925,125.166 L1106.7925,140.166" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1076.0132" y="2028.8477">User</text><ellipse cx="1093.7925" cy="2040.4238" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1093.7925,2048.4238 L1093.7925,2075.4238 M1080.7925,2056.4238 L1106.7925,2056.4238 M1093.7925,2075.4238 L1080.7925,2090.4238 M1093.7925,2075.4238 L1106.7925,2090.4238" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1121.5718" y="156.1992">Database</text><path d="M1136.5371,105.666 C1136.5371,95.666 1154.5371,95.666 1154.5371,95.666 C1154.5371,95.666 1172.5371,95.666 1172.5371,105.666 L1172.5371,131.666 C1172.5371,141.666 1154.5371,141.666 1154.5371,141.666 C1154.5371,141.666 1136.5371,141.666 1136.5371,131.666 L1136.5371,105.666" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1136.5371,105.666 C1136.5371,115.666 1154.5371,115.666 1154.5371,115.666 C1154.5371,115.666 1172.5371,115.666 1172.5371,105.666" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1121.5718" y="2028.8477">Database</text><path d="M1136.5371,2041.9238 C1136.5371,2031.9238 1154.5371,2031.9238 1154.5371,2031.9238 C1154.5371,2031.9238 1172.5371,2031.9238 1172.5371,2041.9238 L1172.5371,2067.9238 C1172.5371,2077.9238 1154.5371,2077.9238 1154.5371,2077.9238 C1154.5371,2077.9238 1136.5371,2077.9238 1136.5371,2067.9238 L1136.5371,2041.9238" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1136.5371,2041.9238 C1136.5371,2051.9238 1154.5371,2051.9238 1154.5371,2051.9238 C1154.5371,2051.9238 1172.5371,2051.9238 1172.5371,2041.9238" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1192.5024" x="0" y="190.4512"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1192.5024" y1="190.4512" y2="190.4512"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1192.5024" y1="193.4512" y2="193.4512"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="162.1226" x="515.1899" y="179.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144.5107" x="521.1899" y="196.7705">Main Success Scenario</text><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,231.9785,259.3774,235.9785,249.3774,239.9785,253.3774,235.9785" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="235.9785" y2="235.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.1543" x="51.0322" y="231.1221">Access notification management</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,262.3301,28.8413,266.3301,38.8413,270.3301,34.8413,266.3301" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="266.3301" y2="266.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.8589" x="63.6799" y="261.4736">Display notification interface</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,292.6816,259.3774,296.6816,249.3774,300.6816,253.3774,296.6816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="296.6816" y2="296.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0361" x="69.0913" y="291.8252">Create notification content</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,323.0332,259.3774,327.0332,249.3774,331.0332,253.3774,327.0332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="327.0332" y2="327.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3652" x="79.9268" y="322.1768">Select target audience</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,353.3848,259.3774,357.3848,249.3774,361.3848,253.3774,357.3848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="357.3848" y2="357.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8926" x="80.6631" y="352.5283">Set notification priority</text></g><g class="message" data-participant-1="portal" data-participant-2="gateway"><polygon fill="#181818" points="407.0337,383.7363,417.0337,387.7363,407.0337,391.7363,411.0337,387.7363" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="261.3774" x2="413.0337" y1="387.7363" y2="387.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.2217" x="287.0947" y="382.8799">Submit notification</text></g><g class="message" data-participant-1="gateway" data-participant-2="notifService"><polygon fill="#181818" points="605.1816,414.0879,615.1816,418.0879,605.1816,422.0879,609.1816,418.0879" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="419.0337" x2="611.1816" y1="418.0879" y2="418.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.6943" x="438.2605" y="413.2314">Process notification request</text></g><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="659.1816" y1="448.4395" y2="448.4395"/><line style="stroke:#181818;stroke-width:1;" x1="659.1816" x2="659.1816" y1="448.4395" y2="461.4395"/><line style="stroke:#181818;stroke-width:1;" x1="618.1816" x2="659.1816" y1="461.4395" y2="461.4395"/><polygon fill="#181818" points="628.1816,457.4395,618.1816,461.4395,628.1816,465.4395,624.1816,461.4395" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.9961" x="624.1816" y="443.583">Validate notification content</text></g><g class="message" data-participant-1="notifService" data-participant-2="userService"><polygon fill="#181818" points="778.8696,487.791,788.8696,491.791,778.8696,495.791,782.8696,491.791" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="784.8696" y1="491.791" y2="491.791"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6753" x="637.188" y="486.9346">Request target user list</text></g><g class="message" data-participant-1="userService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,518.1426,1152.5371,522.1426,1142.5371,526.1426,1146.5371,522.1426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.8696" x2="1148.5371" y1="522.1426" y2="522.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7617" x="907.3225" y="517.2861">Query users by criteria</text></g><g class="message" data-participant-1="db" data-participant-2="userService"><polygon fill="#181818" points="801.8696,548.4941,791.8696,552.4941,801.8696,556.4941,797.8696,552.4941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="795.8696" x2="1153.5371" y1="552.4941" y2="552.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7808" x="907.313" y="547.6377">Return matching users</text></g><g class="message" data-participant-1="userService" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,578.8457,618.1816,582.8457,628.1816,586.8457,624.1816,582.8457" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="789.8696" y1="582.8457" y2="582.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2744" x="641.8884" y="577.9893">Return target user list</text></g><g class="message" data-participant-1="notifService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,609.1973,1152.5371,613.1973,1142.5371,617.1973,1146.5371,613.1973" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="1148.5371" y1="613.1973" y2="613.1973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.8335" x="837.4426" y="608.3408">Store notification</text></g><g class="message" data-participant-1="db" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,639.5488,618.1816,643.5488,628.1816,647.5488,624.1816,643.5488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="1153.5371" y1="643.5488" y2="643.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0508" x="833.834" y="638.6924">Notification stored</text></g><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="659.1816" y1="673.9004" y2="673.9004"/><line style="stroke:#181818;stroke-width:1;" x1="659.1816" x2="659.1816" y1="673.9004" y2="686.9004"/><line style="stroke:#181818;stroke-width:1;" x1="618.1816" x2="659.1816" y1="686.9004" y2="686.9004"/><polygon fill="#181818" points="628.1816,682.9004,618.1816,686.9004,628.1816,690.9004,624.1816,686.9004" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1353" x="624.1816" y="669.0439">Process notification batch</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="430.0337,713.252,420.0337,717.252,430.0337,721.252,426.0337,717.252" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="424.0337" x2="616.1816" y1="717.252" y2="717.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9771" x="445.1191" y="712.3955">Send notification to users</text></g><g class="message" data-participant-1="gateway" data-participant-2="app"><polygon fill="#181818" points="869.79,743.6035,879.79,747.6035,869.79,751.6035,873.79,747.6035" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="419.0337" x2="875.79" y1="747.6035" y2="747.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.2153" x="597.3042" y="742.7471">Deliver notification</text></g><g class="message" data-participant-1="app" data-participant-2="user"><polygon fill="#181818" points="1081.7925,773.9551,1091.7925,777.9551,1081.7925,781.9551,1085.7925,777.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="881.79" x2="1087.7925" y1="777.9551" y2="777.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3862" x="933.5981" y="773.0986">Display notification</text></g><g class="message" data-participant-1="notifService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,804.3066,1152.5371,808.3066,1142.5371,812.3066,1146.5371,808.3066" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="1148.5371" y1="808.3066" y2="808.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6226" x="821.5481" y="803.4502">Update delivery status</text></g><g class="message" data-participant-1="db" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,834.6582,618.1816,838.6582,628.1816,842.6582,624.1816,838.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="1153.5371" y1="838.6582" y2="838.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.458" x="842.1304" y="833.8018">Status updated</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="430.0337,865.0098,420.0337,869.0098,430.0337,873.0098,426.0337,869.0098" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="424.0337" x2="616.1816" y1="869.0098" y2="869.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.998" x="455.6086" y="864.1533">Return delivery report</text></g><g class="message" data-participant-1="gateway" data-participant-2="portal"><polygon fill="#181818" points="272.3774,895.3613,262.3774,899.3613,272.3774,903.3613,268.3774,899.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="266.3774" x2="418.0337" y1="899.3613" y2="899.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6563" x="273.3774" y="894.5049">Forward delivery report</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,925.7129,28.8413,929.7129,38.8413,933.7129,34.8413,929.7129" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="929.7129" y2="929.7129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4517" x="61.8835" y="924.8564">Display delivery confirmation</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1192.5024" x="0" y="958.8887"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1192.5024" y1="958.8887" y2="958.8887"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1192.5024" y1="961.8887" y2="961.8887"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="308.0615" x="442.2205" y="947.7129"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="290.4497" x="448.2205" y="965.208">Alternative Scenario: Some Users Unreachable</text><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,1000.416,259.3774,1004.416,249.3774,1008.416,253.3774,1004.416" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="1004.416" y2="1004.416"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.1543" x="51.0322" y="999.5596">Access notification management</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,1030.7676,28.8413,1034.7676,38.8413,1038.7676,34.8413,1034.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="1034.7676" y2="1034.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.8589" x="63.6799" y="1029.9111">Display notification interface</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,1061.1191,259.3774,1065.1191,249.3774,1069.1191,253.3774,1065.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="1065.1191" y2="1065.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0361" x="69.0913" y="1060.2627">Create notification content</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,1091.4707,259.3774,1095.4707,249.3774,1099.4707,253.3774,1095.4707" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="1095.4707" y2="1095.4707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3652" x="79.9268" y="1090.6143">Select target audience</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,1121.8223,259.3774,1125.8223,249.3774,1129.8223,253.3774,1125.8223" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="1125.8223" y2="1125.8223"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8926" x="80.6631" y="1120.9658">Set notification priority</text></g><g class="message" data-participant-1="portal" data-participant-2="gateway"><polygon fill="#181818" points="407.0337,1152.1738,417.0337,1156.1738,407.0337,1160.1738,411.0337,1156.1738" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="261.3774" x2="413.0337" y1="1156.1738" y2="1156.1738"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.2217" x="287.0947" y="1151.3174">Submit notification</text></g><g class="message" data-participant-1="gateway" data-participant-2="notifService"><polygon fill="#181818" points="605.1816,1182.5254,615.1816,1186.5254,605.1816,1190.5254,609.1816,1186.5254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="419.0337" x2="611.1816" y1="1186.5254" y2="1186.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.6943" x="438.2605" y="1181.6689">Process notification request</text></g><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="659.1816" y1="1216.877" y2="1216.877"/><line style="stroke:#181818;stroke-width:1;" x1="659.1816" x2="659.1816" y1="1216.877" y2="1229.877"/><line style="stroke:#181818;stroke-width:1;" x1="618.1816" x2="659.1816" y1="1229.877" y2="1229.877"/><polygon fill="#181818" points="628.1816,1225.877,618.1816,1229.877,628.1816,1233.877,624.1816,1229.877" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.9961" x="624.1816" y="1212.0205">Validate notification content</text></g><g class="message" data-participant-1="notifService" data-participant-2="userService"><polygon fill="#181818" points="778.8696,1256.2285,788.8696,1260.2285,778.8696,1264.2285,782.8696,1260.2285" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="784.8696" y1="1260.2285" y2="1260.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6753" x="637.188" y="1255.3721">Request target user list</text></g><g class="message" data-participant-1="userService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,1286.5801,1152.5371,1290.5801,1142.5371,1294.5801,1146.5371,1290.5801" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.8696" x2="1148.5371" y1="1290.5801" y2="1290.5801"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7617" x="907.3225" y="1285.7236">Query users by criteria</text></g><g class="message" data-participant-1="db" data-participant-2="userService"><polygon fill="#181818" points="801.8696,1316.9316,791.8696,1320.9316,801.8696,1324.9316,797.8696,1320.9316" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="795.8696" x2="1153.5371" y1="1320.9316" y2="1320.9316"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7808" x="907.313" y="1316.0752">Return matching users</text></g><g class="message" data-participant-1="userService" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,1347.2832,618.1816,1351.2832,628.1816,1355.2832,624.1816,1351.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="789.8696" y1="1351.2832" y2="1351.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2744" x="641.8884" y="1346.4268">Return target user list</text></g><g class="message" data-participant-1="notifService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,1377.6348,1152.5371,1381.6348,1142.5371,1385.6348,1146.5371,1381.6348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="1148.5371" y1="1381.6348" y2="1381.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.8335" x="837.4426" y="1376.7783">Store notification</text></g><g class="message" data-participant-1="db" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,1407.9863,618.1816,1411.9863,628.1816,1415.9863,624.1816,1411.9863" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="1153.5371" y1="1411.9863" y2="1411.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0508" x="833.834" y="1407.1299">Notification stored</text></g><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="659.1816" y1="1442.3379" y2="1442.3379"/><line style="stroke:#181818;stroke-width:1;" x1="659.1816" x2="659.1816" y1="1442.3379" y2="1455.3379"/><line style="stroke:#181818;stroke-width:1;" x1="618.1816" x2="659.1816" y1="1455.3379" y2="1455.3379"/><polygon fill="#181818" points="628.1816,1451.3379,618.1816,1455.3379,628.1816,1459.3379,624.1816,1455.3379" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1353" x="624.1816" y="1437.4814">Process notification batch</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="430.0337,1481.6895,420.0337,1485.6895,430.0337,1489.6895,426.0337,1485.6895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="424.0337" x2="616.1816" y1="1485.6895" y2="1485.6895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9771" x="445.1191" y="1480.833">Send notification to users</text></g><g class="message" data-participant-1="gateway" data-participant-2="app"><polygon fill="#181818" points="869.79,1512.041,879.79,1516.041,869.79,1520.041,873.79,1516.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="419.0337" x2="875.79" y1="1516.041" y2="1516.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.918" x="566.9529" y="1511.1846">Attempt to deliver notification</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="881.79" x2="923.79" y1="1546.3926" y2="1546.3926"/><line style="stroke:#181818;stroke-width:1;" x1="923.79" x2="923.79" y1="1546.3926" y2="1559.3926"/><line style="stroke:#181818;stroke-width:1;" x1="882.79" x2="923.79" y1="1559.3926" y2="1559.3926"/><polygon fill="#181818" points="892.79,1555.3926,882.79,1559.3926,892.79,1563.3926,888.79,1559.3926" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.0024" x="888.79" y="1541.5361">Some users offline or unreachable</text></g><g class="message" data-participant-1="notifService" data-participant-2="db"><polygon fill="#181818" points="1142.5371,1585.7441,1152.5371,1589.7441,1142.5371,1593.7441,1146.5371,1589.7441" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="1148.5371" y1="1589.7441" y2="1589.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.9434" x="763.3877" y="1584.8877">Update delivery status with partial success</text></g><g class="message" data-participant-1="db" data-participant-2="notifService"><polygon fill="#181818" points="628.1816,1616.0957,618.1816,1620.0957,628.1816,1624.0957,624.1816,1620.0957" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="622.1816" x2="1153.5371" y1="1620.0957" y2="1620.0957"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.458" x="842.1304" y="1615.2393">Status updated</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="430.0337,1646.4473,420.0337,1650.4473,430.0337,1654.4473,426.0337,1650.4473" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="424.0337" x2="616.1816" y1="1650.4473" y2="1650.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1479" x="431.0337" y="1645.5908">Return detailed delivery report</text></g><g class="message" data-participant-1="gateway" data-participant-2="portal"><polygon fill="#181818" points="272.3774,1676.7988,262.3774,1680.7988,272.3774,1684.7988,268.3774,1680.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="266.3774" x2="418.0337" y1="1680.7988" y2="1680.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6563" x="273.3774" y="1675.9424">Forward delivery report</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,1707.1504,28.8413,1711.1504,38.8413,1715.1504,34.8413,1711.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="1711.1504" y2="1711.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6226" x="60.7981" y="1706.2939">Display partial delivery report</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,1737.502,28.8413,1741.502,38.8413,1745.502,34.8413,1741.502" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="1741.502" y2="1741.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5024" x="55.3582" y="1736.6455">Show unreachable users count</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,1767.8535,28.8413,1771.8535,38.8413,1775.8535,34.8413,1771.8535" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="1771.8535" y2="1771.8535"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.5361" x="39.8413" y="1766.9971">Offer retry option for failed deliveries</text></g><g class="message" data-participant-1="admin" data-participant-2="portal"><polygon fill="#181818" points="249.3774,1798.2051,259.3774,1802.2051,249.3774,1806.2051,253.3774,1802.2051" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.8413" x2="255.3774" y1="1802.2051" y2="1802.2051"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.7407" x="55.739" y="1797.3486">Select retry for failed deliveries</text></g><g class="message" data-participant-1="portal" data-participant-2="gateway"><polygon fill="#181818" points="407.0337,1828.5566,417.0337,1832.5566,407.0337,1836.5566,411.0337,1832.5566" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="261.3774" x2="413.0337" y1="1832.5566" y2="1832.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.0317" x="301.1897" y="1827.7002">Request retry</text></g><g class="message" data-participant-1="gateway" data-participant-2="notifService"><polygon fill="#181818" points="605.1816,1858.9082,615.1816,1862.9082,605.1816,1866.9082,609.1816,1862.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="419.0337" x2="611.1816" y1="1862.9082" y2="1862.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5444" x="456.3354" y="1858.0518">Process retry request</text></g><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="617.1816" x2="659.1816" y1="1893.2598" y2="1893.2598"/><line style="stroke:#181818;stroke-width:1;" x1="659.1816" x2="659.1816" y1="1893.2598" y2="1906.2598"/><line style="stroke:#181818;stroke-width:1;" x1="618.1816" x2="659.1816" y1="1906.2598" y2="1906.2598"/><polygon fill="#181818" points="628.1816,1902.2598,618.1816,1906.2598,628.1816,1910.2598,624.1816,1906.2598" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.688" x="624.1816" y="1888.4033">Queue notifications for retry</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="430.0337,1932.6113,420.0337,1936.6113,430.0337,1940.6113,426.0337,1936.6113" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="424.0337" x2="616.1816" y1="1936.6113" y2="1936.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.0508" x="479.0823" y="1931.7549">Retry queued</text></g><g class="message" data-participant-1="gateway" data-participant-2="portal"><polygon fill="#181818" points="272.3774,1962.9629,262.3774,1966.9629,272.3774,1970.9629,268.3774,1966.9629" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="266.3774" x2="418.0337" y1="1966.9629" y2="1966.9629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1099" x="279.1506" y="1962.1064">Confirm retry queued</text></g><g class="message" data-participant-1="portal" data-participant-2="admin"><polygon fill="#181818" points="38.8413,1993.3145,28.8413,1997.3145,38.8413,2001.3145,34.8413,1997.3145" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="32.8413" x2="260.3774" y1="1997.3145" y2="1997.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.6563" x="71.2813" y="1992.458">Display retry confirmation</text></g><!--SRC=[xLR1Rjim3BthAuZSUzff0J8WID5XXsxPZEoq2otHYL1RSYMvGVv-b6odrkos6B3TUdEYzoW-FfAsVz2cHOSDU7hio4Yw9-_nIDjQ7mr8Ce6Sy5TKYVBXw6ndrCxMri7vf0DDpazerDdf4CX0XRKd8O8EDS7giBlvy74D1Ha5NstGbPOOj3Kh8L063hNQgaQR5Q07Z4-28mOjTOic38UmjovWdJ1jUlm3jFy2dp7G6Iy9S-oVSz3qyb-c8FUa9IMuYIV37pdduCdbs8x_MOJUiMgxnmjisxONqxQZmXZcoXOA0vRekJQtmrCwKwKGcmtS8-ijEYdP3oZO27JQmcR3vKgbkFaqb60Dsnva9iAWGSCkDkoVw66Ha9XhkDM-hJd3ZA2ZqnModFa5EqTSoHmlBHCu-WnSK4qoG41tf03OAHtRQWaNyeWj2-JMkKmI7WnaS5SsEiUBuJ3YfiwjOU_il20kzhSFGaonS-vFhBLwKUoVt4aNhE57VyEeF9v1hVdA2IgILBc6xnsvIu9uA2yWMJSvZKALS3EF6peN7GtofCsnP-L1Pp86pYoLcOAOJC7DcGiUyyY3JYS7V2IfjygvQ4KPbSo8prx75P4HWXr4JopdiU9Efbe_iROiTpuPlLdkzUKg7Dhak-f3NbWWXiulLw98Pz0boa8Hhbe67wv17SNcdkeOn-7EkZCwDOE-EBrN83TdfLqpIEFLiQsvcGp_VgBhvk2SRKDmI1rtC3pGyeGbB-RtZVA-KTutodMZRFdJfMb31AXNbal2fedgAswhgjQ6WD_otVDm_SsYWRCE9qYV4jofld_n_wlj4r3NfFxB6XepVfDGdEnvMfoXSf8_9XVGtwgAI-yeS4JR9iygBcwL2T7anOlhekSkanRsmJXhYVRs9kYZZolWzPRbqUpoQV0fh_wgrzpZAnuZMIrPjUlt_f3AW7lHfnwLlIj-0m00]--></g></svg>