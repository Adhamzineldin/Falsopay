@startuml Falsopay_Package_Diagram

' Styling
skinparam package {
  BackgroundColor #F5F5F5
  BorderColor #2196F3
  FontColor black
  FontSize 14
}

skinparam Arrow {
  Color #2196F3
  FontColor #37474F
}

' Title
title Falsopay - Use Case Package Diagram

' Main Package
package "Falsopay System" as falsopay {

  ' User Management Package
  package "User Management" as userMgmt {
    [Register Account]
    [Login to System]
    [Update Profile]
    [Verify Phone Number]
    [Reset Password]
    [Logout]
  }

  ' Account Management Package
  package "Account Management" as accountMgmt {
    [Link Bank Account]
    [Set Default Account]
    [View Account Balance]
    [Create Instant Payment Address]
    [Manage Instant Payment Addresses]
  }

  ' Payment Operations Package
  package "Payment Operations" as paymentOps {
    [Send Money]
    [Request Money]
    [Accept/Reject Money Request]
    [View Transaction History]
    [Add Payment Favorite]
    [Pay using Saved Favorite]
    [Export Transaction Records]
  }

  ' Card Management Package
  package "Card Management" as cardMgmt {
    [Add Payment Card]
    [View Cards]
    [Remove Card]
  }

  ' Support Package
  package "Support" as support {
    [Create Support Ticket]
    [View Support Tickets]
    [Reply to Support Ticket]
    [Close Support Ticket]
    [Assign Support Ticket]
  }

  ' System Administration Package
  package "System Administration" as sysAdmin {
    [Change System Settings]
    [View System Logs]
    [Manage User Accounts]
    [Toggle Maintenance Mode]
    [Set Transaction Limits]
  }

  ' External Systems Package
  package "External Systems" as external {
    [Bank API Integration]
    [Payment Gateway Integration]
    [Notification Services]
    [SMS Verification]
  }
}

' Package Dependencies
userMgmt ..> accountMgmt : <<access>>
paymentOps ..> accountMgmt : <<access>>
paymentOps ..> cardMgmt : <<access>>
paymentOps ..> external : <<use>>
cardMgmt ..> external : <<use>>
accountMgmt ..> external : <<use>>
support ..> userMgmt : <<access>>
sysAdmin ..> userMgmt : <<access>>
sysAdmin ..> paymentOps : <<configure>>
userMgmt ..> external : <<use>>

' High-Level Domain Layers
package "Core Domain Layer" as core {
}

package "Support Domain Layer" as supportLayer {
}

package "Administration Domain Layer" as adminLayer {
}

' Domain Layer Assignments
userMgmt -[hidden]-> core
accountMgmt -[hidden]-> core
paymentOps -[hidden]-> core
cardMgmt -[hidden]-> core

core -up-> userMgmt : contains
core -up-> accountMgmt : contains
core -up-> paymentOps : contains
core -up-> cardMgmt : contains

supportLayer -up-> support : contains
adminLayer -up-> sysAdmin : contains

' Layer Dependencies
core .up.> supportLayer : uses
core .up.> adminLayer : is managed by

@enduml 