<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="773px" preserveAspectRatio="none" style="width:953px;height:773px;background:#FFFFFF;" version="1.1" viewBox="0 0 953 773" width="953px" zoomAndPan="magnify"><title>UC-6: Receive Confirmation</title><defs/><g><rect fill="#FFFFCC" height="28.0566" rx="2.5" ry="2.5" style="stroke:#FFDD88;stroke-width:3;" width="942.2393" x="5" y="5"/><text fill="#000000" font-family="monospace" font-size="10" lengthAdjust="spacing" textLength="354.0576" x="10" y="20">Please&#160;use&#160;'!option&#160;handwritten&#160;true'&#160;to&#160;enable&#160;handwritten</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185.1445" x="377.5474" y="67.5898">UC-6: Receive Confirmation</text><g><title>User</title><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1;" width="10" x="32.7793" y="442.0879"/></g><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1;" width="10" x="178.8237" y="411.7363"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1;" width="10" x="358.0518" y="295.6816"/></g><g><title>Notification</title><rect fill="#FFFFFF" height="85.7031" style="stroke:#181818;stroke-width:1;" width="10" x="549.6406" y="326.0332"/></g><g><title>Transaction</title><rect fill="#FFFFFF" height="278.8125" style="stroke:#181818;stroke-width:1;" width="10" x="684.2905" y="199.627"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="883.2739" y="234.9785"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="883.2739" y="635.6816"/></g><rect fill="none" height="303" style="stroke:#000000;stroke-width:1.5;" width="921.2393" x="10" y="371.0332"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="33.7793" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="159.2754" y2="691.0332"/></g><g><title>FalsoPay App</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="179.8237" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="183.2446" x2="183.2446" y1="159.2754" y2="691.0332"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="359.0518" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="362.2002" x2="362.2002" y1="159.2754" y2="691.0332"/></g><g><title>Notification</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="550.6406" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="554.0132" x2="554.0132" y1="159.2754" y2="691.0332"/></g><g><title>Transaction</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="685.2905" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="688.7183" x2="688.7183" y1="159.2754" y2="691.0332"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="531.7578" width="8" x="884.2739" y="159.2754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="887.3086" x2="887.3086" y1="159.2754" y2="691.0332"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="156.1992">User</text><ellipse cx="37.7793" cy="90.166" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.7793,98.166 L37.7793,125.166 M24.7793,106.166 L50.7793,106.166 M37.7793,125.166 L24.7793,140.166 M37.7793,125.166 L50.7793,140.166" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="704.5664">User</text><ellipse cx="37.7793" cy="716.1426" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.7793,724.1426 L37.7793,751.1426 M24.7793,732.1426 L50.7793,732.1426 M37.7793,751.1426 L24.7793,766.1426 M37.7793,751.1426 L50.7793,766.1426" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="app"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="133.2446" y="126.666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="140.2446" y="148.1992">FalsoPay App</text></g><g class="participant participant-tail" data-participant="app"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="133.2446" y="690.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="140.2446" y="711.5664">FalsoPay App</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="315.2002" y="126.666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="322.2002" y="148.1992">API Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="315.2002" y="690.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="322.2002" y="711.5664">API Gateway</text></g><g class="participant participant-head" data-participant="notifService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.2549" x="513.0132" y="109.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="520.0132" y="130.5898">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="531.2993" y="148.1992">Service</text></g><g class="participant participant-tail" data-participant="notifService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.2549" x="513.0132" y="690.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="520.0132" y="711.5664">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="531.2993" y="729.1758">Service</text></g><g class="participant participant-head" data-participant="txnService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1445" x="645.7183" y="109.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="652.7183" y="130.5898">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="665.9492" y="148.1992">Service</text></g><g class="participant participant-tail" data-participant="txnService"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1445" x="645.7183" y="690.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="652.7183" y="711.5664">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="665.9492" y="729.1758">Service</text></g><g class="participant participant-head" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="855.3086" y="156.1992">Database</text><path d="M870.2739,105.666 C870.2739,95.666 888.2739,95.666 888.2739,95.666 C888.2739,95.666 906.2739,95.666 906.2739,105.666 L906.2739,131.666 C906.2739,141.666 888.2739,141.666 888.2739,141.666 C888.2739,141.666 870.2739,141.666 870.2739,131.666 L870.2739,105.666" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M870.2739,105.666 C870.2739,115.666 888.2739,115.666 888.2739,115.666 C888.2739,115.666 906.2739,115.666 906.2739,105.666" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="855.3086" y="704.5664">Database</text><path d="M870.2739,717.6426 C870.2739,707.6426 888.2739,707.6426 888.2739,707.6426 C888.2739,707.6426 906.2739,707.6426 906.2739,717.6426 L906.2739,743.6426 C906.2739,753.6426 888.2739,753.6426 888.2739,753.6426 C888.2739,753.6426 870.2739,753.6426 870.2739,743.6426 L870.2739,717.6426" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M870.2739,717.6426 C870.2739,727.6426 888.2739,727.6426 888.2739,727.6426 C888.2739,727.6426 906.2739,727.6426 906.2739,717.6426" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g><title>User</title><rect fill="#FFFFFF" height="36.3516" style="stroke:#181818;stroke-width:1;" width="10" x="32.7793" y="442.0879"/></g><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="66.7031" style="stroke:#181818;stroke-width:1;" width="10" x="178.8237" y="411.7363"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1;" width="10" x="358.0518" y="295.6816"/></g><g><title>Notification</title><rect fill="#FFFFFF" height="85.7031" style="stroke:#181818;stroke-width:1;" width="10" x="549.6406" y="326.0332"/></g><g><title>Transaction</title><rect fill="#FFFFFF" height="278.8125" style="stroke:#181818;stroke-width:1;" width="10" x="684.2905" y="199.627"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="883.2739" y="234.9785"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="883.2739" y="635.6816"/></g><g class="message" data-participant-1="txnService" data-participant-2="txnService"><line style="stroke:#181818;stroke-width:1;" x1="689.2905" x2="736.2905" y1="186.627" y2="186.627"/><line style="stroke:#181818;stroke-width:1;" x1="736.2905" x2="736.2905" y1="186.627" y2="199.627"/><line style="stroke:#181818;stroke-width:1;" x1="695.2905" x2="736.2905" y1="199.627" y2="199.627"/><polygon fill="#181818" points="705.2905,195.627,695.2905,199.627,705.2905,203.627,701.2905,199.627" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.9834" x="701.2905" y="181.7705">Generate confirmation message</text></g><g class="message" data-participant-1="txnService" data-participant-2="db"><polygon fill="#181818" points="871.2739,230.9785,881.2739,234.9785,871.2739,238.9785,875.2739,234.9785" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="694.2905" x2="877.2739" y1="234.9785" y2="234.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9517" x="715.8064" y="230.1221">Store confirmation record</text></g><g class="message" data-participant-1="db" data-participant-2="txnService"><polygon fill="#181818" points="705.2905,261.3301,695.2905,265.3301,705.2905,269.3301,701.2905,265.3301" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="699.2905" x2="887.2739" y1="265.3301" y2="265.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.6499" x="750.4573" y="260.4736">Record stored</text></g><g class="message" data-participant-1="txnService" data-participant-2="gateway"><polygon fill="#181818" points="379.0518,291.6816,369.0518,295.6816,379.0518,299.6816,375.0518,295.6816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="373.0518" x2="683.2905" y1="295.6816" y2="295.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9707" x="453.1858" y="290.8252">Send confirmation details</text></g><g class="message" data-participant-1="gateway" data-participant-2="notifService"><polygon fill="#181818" points="537.6406,322.0332,547.6406,326.0332,537.6406,330.0332,541.6406,326.0332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="368.0518" x2="543.6406" y1="326.0332" y2="326.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.5889" x="377.5518" y="321.1768">Request notification delivery</text></g><path d="M10,371.0332 L70.1709,371.0332 L70.1709,379.3848 L60.1709,389.3848 L10,389.3848 L10,371.0332" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="303" style="stroke:#000000;stroke-width:1.5;" width="921.2393" x="10" y="371.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="385.5283">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.3345" x="85.1709" y="384.4521">[Delivery succeeds]</text><g class="message" data-participant-1="notifService" data-participant-2="app"><polygon fill="#181818" points="199.8237,407.7363,189.8237,411.7363,199.8237,415.7363,195.8237,411.7363" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="193.8237" x2="553.6406" y1="411.7363" y2="411.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.8125" x="286.8259" y="406.8799">Push confirmation notification</text></g><g class="message" data-participant-1="app" data-participant-2="user"><polygon fill="#181818" points="53.7793,438.0879,43.7793,442.0879,53.7793,446.0879,49.7793,442.0879" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="47.7793" x2="177.8237" y1="442.0879" y2="442.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.0444" x="52.2793" y="437.2314">Display confirmation</text></g><g class="message" data-participant-1="app" data-participant-2="app"><line style="stroke:#181818;stroke-width:1;" x1="188.8237" x2="230.8237" y1="477.4395" y2="477.4395"/><line style="stroke:#181818;stroke-width:1;" x1="230.8237" x2="230.8237" y1="477.4395" y2="490.4395"/><line style="stroke:#181818;stroke-width:1;" x1="183.8237" x2="230.8237" y1="490.4395" y2="490.4395"/><polygon fill="#181818" points="193.8237,486.4395,183.8237,490.4395,193.8237,494.4395,189.8237,490.4395" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.228" x="195.8237" y="472.583">Store confirmation locally</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="931.2393" y1="494.4395" y2="494.4395"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75.2007" x="15" y="505.8584">[Delivery fails]</text><g class="message" data-participant-1="notifService" data-participant-2="notifService"><line style="stroke:#181818;stroke-width:1;" x1="554.6406" x2="596.6406" y1="531.627" y2="531.627"/><line style="stroke:#181818;stroke-width:1;" x1="596.6406" x2="596.6406" y1="531.627" y2="544.627"/><line style="stroke:#181818;stroke-width:1;" x1="555.6406" x2="596.6406" y1="544.627" y2="544.627"/><polygon fill="#181818" points="565.6406,540.627,555.6406,544.627,565.6406,548.627,561.6406,544.627" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6499" x="561.6406" y="526.7705">Delivery attempt fails</text></g><g class="message" data-participant-1="notifService" data-participant-2="gateway"><polygon fill="#181818" points="374.0518,570.9785,364.0518,574.9785,374.0518,578.9785,370.0518,574.9785" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="368.0518" x2="553.6406" y1="574.9785" y2="574.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.4453" x="395.6235" y="570.1221">Report delivery failure</text></g><g class="message" data-participant-1="gateway" data-participant-2="txnService"><polygon fill="#181818" points="677.2905,601.3301,687.2905,605.3301,677.2905,609.3301,681.2905,605.3301" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="363.0518" x2="683.2905" y1="605.3301" y2="605.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.998" x="476.6721" y="600.4736">Notification failed</text></g><g class="message" data-participant-1="txnService" data-participant-2="db"><polygon fill="#181818" points="871.2739,631.6816,881.2739,635.6816,871.2739,639.6816,875.2739,635.6816" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.2905" x2="877.2739" y1="635.6816" y2="635.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.2827" x="747.6409" y="630.8252">Mark for retry</text></g><g class="message" data-participant-1="db" data-participant-2="txnService"><polygon fill="#181818" points="700.2905,662.0332,690.2905,666.0332,700.2905,670.0332,696.2905,666.0332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.2905" x2="887.2739" y1="666.0332" y2="666.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5107" x="742.5269" y="661.1768">Record updated</text></g><!--SRC=[dLGzanen3EtzApJqj2cso0m3aviKbs6uN9T6QmlmOBoExONiluzibiNU-oYEoiZlwSdIquQJjWuzdY7Gtvwif6SA0G-qClfWGPADv4MOK2tAqy5tlLNhpdGUhaSTgRW_ebLNhsCa2tiqWOI8EXg2nUjw-Qs17KdI5u9rP_VQdp7gpYw4G1avsU8ra5y01kZv83XZr58xj14MFpXPjyK1Livb23fN8rRRd_24aQuuPC3XTgv1lxgezrfctJ_sXVn5Iyfmcsx6GCtvxT46hl0D9Vwx_nKA8xOO-9sRyPGHgkNtJoXOVYyu3JoH9SzLWYow0UVR059Fz2NT5ZApPAfju8KxDylWINPUFH9m5Qg5vKnzbr4G4by9HILyfZEsaiN8gbfBKKHjmaFitdOn7XA_x6qIPgU5U8kEi-0yXdtXXqUYQY15UPC0cWYRaGQXbv981G7yAwb9dxtImBOFnxhsie3CArGgzNGttIJZtIBEfUJ9gmriT726NriArBpiwOANYtfdUgQJQCmmBsYY5x5KoYnqxyuiN7g8U2qVZTldyRtNjNfg4m5vkSykVaASxB8Zr_aupJPJUa-VzZfV5jufBLjkRqx6natmjrlnZFu4U_wcU8f-g0V1_iu5VBWIlUDr7bFNU_65Pbib_WC0]--></g></svg>