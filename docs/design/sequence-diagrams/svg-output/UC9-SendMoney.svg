<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1858px" preserveAspectRatio="none" style="width:1292px;height:1858px;background:#FFFFFF;" version="1.1" viewBox="0 0 1292 1858" width="1292px" zoomAndPan="magnify"><title>UC-9: Send Money</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="123.6758" x="585.2578" y="29.5332">UC-9: Send Money</text><g><title>Registered User</title><rect fill="#FFFFFF" height="1591.25" style="stroke:#181818;stroke-width:1;" width="10" x="78.5757" y="153.5703"/></g><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="1591.25" style="stroke:#181818;stroke-width:1;" width="10" x="296.8228" y="153.5703"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="1530.5469" style="stroke:#181818;stroke-width:1;" width="10" x="513.6353" y="183.9219"/></g><g><title>Transaction Service</title><rect fill="#FFFFFF" height="1469.8438" style="stroke:#181818;stroke-width:1;" width="10" x="679.8569" y="214.2734"/></g><g><title>Security Service</title><rect fill="#FFFFFF" height="266.6484" style="stroke:#181818;stroke-width:1;" width="10" x="849.7031" y="992.5469"/></g><g><title>Account Service</title><rect fill="#FFFFFF" height="253.6484" style="stroke:#181818;stroke-width:1;" width="10" x="974.8545" y="244.625"/></g><g><title>Account Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="974.8545" y="1623.4141"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1109.3472" y="1502.0078"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1109.3472" y="1562.7109"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="274.9766"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="767.0859"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="1022.8984"/></g><g><title>Database</title><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="1350.25"/></g><rect fill="none" height="1439.4922" style="stroke:#000000;stroke-width:1.5;" width="1275.1914" x="10" y="320.3281"/><rect fill="none" height="641.2188" style="stroke:#000000;stroke-width:1.5;" width="1255.1914" x="20" y="1111.6016"/><g><title>Registered User</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="79.5757" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="83" x2="83" y1="121.2188" y2="1776.8203"/></g><g><title>FalsoPay App</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="297.8228" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="301.2437" x2="301.2437" y1="121.2188" y2="1776.8203"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="514.6353" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="517.7837" x2="517.7837" y1="121.2188" y2="1776.8203"/></g><g><title>Transaction Service</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="680.8569" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="683.9985" x2="683.9985" y1="121.2188" y2="1776.8203"/></g><g><title>Security Service</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="850.7031" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="854.1309" x2="854.1309" y1="121.2188" y2="1776.8203"/></g><g><title>Account Service</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="975.8545" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="979.2754" x2="979.2754" y1="121.2188" y2="1776.8203"/></g><g><title>Notification Service</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="1110.3472" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1113.4336" x2="1113.4336" y1="121.2188" y2="1776.8203"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1655.6016" width="8" x="1224.2261" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1227.2607" x2="1227.2607" y1="121.2188" y2="1776.8203"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1514" x="30" y="118.1426">Registered User</text><ellipse cx="83.5757" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M83.5757,60.1094 L83.5757,87.1094 M70.5757,68.1094 L96.5757,68.1094 M83.5757,87.1094 L70.5757,102.1094 M83.5757,87.1094 L96.5757,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1514" x="30" y="1790.3535">Registered User</text><ellipse cx="83.5757" cy="1801.9297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M83.5757,1809.9297 L83.5757,1836.9297 M70.5757,1817.9297 L96.5757,1817.9297 M83.5757,1836.9297 L70.5757,1851.9297 M83.5757,1836.9297 L96.5757,1851.9297" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="251.2437" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="258.2437" y="110.1426">FalsoPay App</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="251.2437" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="258.2437" y="1797.3535">FalsoPay App</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="470.7837" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="477.7837" y="110.1426">API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="470.7837" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="477.7837" y="1797.3535">API Gateway</text></g><g class="participant participant-head" data-participant="TransService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.7168" x="615.9985" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7168" x="622.9985" y="110.1426">Transaction Service</text></g><g class="participant participant-tail" data-participant="TransService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.7168" x="615.9985" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7168" x="622.9985" y="1797.3535">Transaction Service</text></g><g class="participant participant-head" data-participant="SecService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1445" x="797.1309" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="804.1309" y="110.1426">Security Service</text></g><g class="participant participant-tail" data-participant="SecService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1445" x="797.1309" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="804.1309" y="1797.3535">Security Service</text></g><g class="participant participant-head" data-participant="AccountService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1582" x="922.2754" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="929.2754" y="110.1426">Account Service</text></g><g class="participant participant-tail" data-participant="AccountService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.1582" x="922.2754" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="929.2754" y="1797.3535">Account Service</text></g><g class="participant participant-head" data-participant="NotifService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="1047.4336" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1054.4336" y="110.1426">Notification Service</text></g><g class="participant participant-tail" data-participant="NotifService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="1047.4336" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1054.4336" y="1797.3535">Notification Service</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9307" x="1191.2607" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1198.2607" y="110.1426">Database</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9307" x="1191.2607" y="1775.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1198.2607" y="1797.3535">Database</text></g><g><title>Registered User</title><rect fill="#FFFFFF" height="1591.25" style="stroke:#181818;stroke-width:1;" width="10" x="78.5757" y="153.5703"/></g><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="1591.25" style="stroke:#181818;stroke-width:1;" width="10" x="296.8228" y="153.5703"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="1530.5469" style="stroke:#181818;stroke-width:1;" width="10" x="513.6353" y="183.9219"/></g><g><title>Transaction Service</title><rect fill="#FFFFFF" height="1469.8438" style="stroke:#181818;stroke-width:1;" width="10" x="679.8569" y="214.2734"/></g><g><title>Security Service</title><rect fill="#FFFFFF" height="266.6484" style="stroke:#181818;stroke-width:1;" width="10" x="849.7031" y="992.5469"/></g><g><title>Account Service</title><rect fill="#FFFFFF" height="253.6484" style="stroke:#181818;stroke-width:1;" width="10" x="974.8545" y="244.625"/></g><g><title>Account Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="974.8545" y="1623.4141"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1109.3472" y="1502.0078"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1109.3472" y="1562.7109"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="274.9766"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="767.0859"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="1022.8984"/></g><g><title>Database</title><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1;" width="10" x="1223.2261" y="1350.25"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="284.8228,149.5703,294.8228,153.5703,284.8228,157.5703,288.8228,153.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="88.5757" x2="290.8228" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6162" x="95.5757" y="148.7139">Initiate money transfer</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="501.6353,179.9219,511.6353,183.9219,501.6353,187.9219,505.6353,183.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="507.6353" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.0889" x="313.8228" y="179.0654">POST /api/transactions/prepare</text></g><g class="message" data-participant-1="Gateway" data-participant-2="TransService"><polygon fill="#181818" points="667.8569,210.2734,677.8569,214.2734,667.8569,218.2734,671.8569,214.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="523.6353" x2="673.8569" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4517" x="530.6353" y="209.417">Prepare transaction</text></g><g class="message" data-participant-1="TransService" data-participant-2="AccountService"><polygon fill="#181818" points="962.8545,240.625,972.8545,244.625,962.8545,248.625,966.8545,244.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="968.8545" y1="244.625" y2="244.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3589" x="696.8569" y="239.7686">Check sender balance</text></g><g class="message" data-participant-1="AccountService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,270.9766,1221.2261,274.9766,1211.2261,278.9766,1215.2261,274.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="984.8545" x2="1217.2261" y1="274.9766" y2="274.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2471" x="991.8545" y="270.1201">Get account balance</text></g><g class="message" data-participant-1="DB" data-participant-2="AccountService"><polygon fill="#181818" points="995.8545,301.3281,985.8545,305.3281,995.8545,309.3281,991.8545,305.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="989.8545" x2="1227.2261" y1="305.3281" y2="305.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.8926" x="1001.8545" y="300.4717">Balance data</text></g><path d="M10,320.3281 L70.1709,320.3281 L70.1709,328.6797 L60.1709,338.6797 L10,338.6797 L10,320.3281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1439.4922" style="stroke:#000000;stroke-width:1.5;" width="1275.1914" x="10" y="320.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="334.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98.9893" x="85.1709" y="333.7471">[Insufficient funds]</text><g class="message" data-participant-1="AccountService" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,357.0313,690.8569,361.0313,700.8569,365.0313,696.8569,361.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="973.8545" y1="361.0313" y2="361.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2935" x="706.8569" y="356.1748">Insufficient balance</text></g><g class="message" data-participant-1="TransService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,387.3828,524.6353,391.3828,534.6353,395.3828,530.6353,391.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="678.8569" y1="391.3828" y2="391.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4644" x="540.6353" y="386.5264">400 Bad Request</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="317.8228,417.7344,307.8228,421.7344,317.8228,425.7344,313.8228,421.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="311.8228" x2="512.6353" y1="421.7344" y2="421.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4644" x="323.8228" y="416.8779">400 Bad Request</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="99.5757,448.0859,89.5757,452.0859,99.5757,456.0859,95.5757,452.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.5757" x2="295.8228" y1="452.0859" y2="452.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1289" x="105.5757" y="447.2295">Display insufficient funds error</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="1285.1914" y1="461.0859" y2="461.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51.9707" x="15" y="472.5049">[Success]</text><g class="message" data-participant-1="AccountService" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,494.2734,690.8569,498.2734,700.8569,502.2734,696.8569,498.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="978.8545" y1="498.2734" y2="498.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8926" x="706.8569" y="493.417">Balance sufficient</text></g><g class="message" data-participant-1="TransService" data-participant-2="TransService"><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="731.8569" y1="528.625" y2="528.625"/><line style="stroke:#181818;stroke-width:1;" x1="731.8569" x2="731.8569" y1="528.625" y2="541.625"/><line style="stroke:#181818;stroke-width:1;" x1="690.8569" x2="731.8569" y1="541.625" y2="541.625"/><polygon fill="#181818" points="700.8569,537.625,690.8569,541.625,700.8569,545.625,696.8569,541.625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.8462" x="696.8569" y="523.7686">Create transaction draft</text></g><g class="message" data-participant-1="TransService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,567.9766,524.6353,571.9766,534.6353,575.9766,530.6353,571.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="678.8569" y1="571.9766" y2="571.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5698" x="540.6353" y="567.1201">Transaction prepared</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="317.8228,598.3281,307.8228,602.3281,317.8228,606.3281,313.8228,602.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="311.8228" x2="512.6353" y1="602.3281" y2="602.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.207" x="323.8228" y="597.4717">200 OK with transaction details</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="348.8228" y1="632.6797" y2="632.6797"/><line style="stroke:#181818;stroke-width:1;" x1="348.8228" x2="348.8228" y1="632.6797" y2="645.6797"/><line style="stroke:#181818;stroke-width:1;" x1="307.8228" x2="348.8228" y1="645.6797" y2="645.6797"/><polygon fill="#181818" points="317.8228,641.6797,307.8228,645.6797,317.8228,649.6797,313.8228,645.6797" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8125" x="313.8228" y="627.8232">Display transfer method options</text></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="284.8228,672.0313,294.8228,676.0313,284.8228,680.0313,288.8228,676.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="88.5757" x2="290.8228" y1="676.0313" y2="676.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7871" x="95.5757" y="671.1748">Select transfer method</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="501.6353,702.3828,511.6353,706.3828,501.6353,710.3828,505.6353,706.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="507.6353" y1="706.3828" y2="706.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6416" x="313.8228" y="701.5264">POST /api/transactions/method</text></g><g class="message" data-participant-1="Gateway" data-participant-2="TransService"><polygon fill="#181818" points="667.8569,732.7344,677.8569,736.7344,667.8569,740.7344,671.8569,736.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="523.6353" x2="673.8569" y1="736.7344" y2="736.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1689" x="530.6353" y="731.8779">Set transfer method</text></g><g class="message" data-participant-1="TransService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,763.0859,1221.2261,767.0859,1211.2261,771.0859,1215.2261,767.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1217.2261" y1="767.0859" y2="767.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.5825" x="696.8569" y="762.2295">Update transaction record</text></g><g class="message" data-participant-1="DB" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,793.4375,690.8569,797.4375,700.8569,801.4375,696.8569,797.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="1227.2261" y1="797.4375" y2="797.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.1309" x="706.8569" y="792.5811">Success</text></g><g class="message" data-participant-1="TransService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,823.7891,524.6353,827.7891,534.6353,831.7891,530.6353,827.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="678.8569" y1="827.7891" y2="827.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="540.6353" y="822.9326">200 OK</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="317.8228,854.1406,307.8228,858.1406,317.8228,862.1406,313.8228,858.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="311.8228" x2="512.6353" y1="858.1406" y2="858.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="323.8228" y="853.2842">200 OK</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="348.8228" y1="888.4922" y2="888.4922"/><line style="stroke:#181818;stroke-width:1;" x1="348.8228" x2="348.8228" y1="888.4922" y2="901.4922"/><line style="stroke:#181818;stroke-width:1;" x1="307.8228" x2="348.8228" y1="901.4922" y2="901.4922"/><polygon fill="#181818" points="317.8228,897.4922,307.8228,901.4922,317.8228,905.4922,313.8228,901.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7026" x="313.8228" y="883.6357">Request PIN</text></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="284.8228,927.8438,294.8228,931.8438,284.8228,935.8438,288.8228,931.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="88.5757" x2="290.8228" y1="931.8438" y2="931.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3545" x="95.5757" y="926.9873">Enter PIN</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="501.6353,958.1953,511.6353,962.1953,501.6353,966.1953,505.6353,962.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="507.6353" y1="962.1953" y2="962.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.7153" x="313.8228" y="957.3389">POST /api/security/verify-pin</text></g><g class="message" data-participant-1="Gateway" data-participant-2="SecService"><polygon fill="#181818" points="837.7031,988.5469,847.7031,992.5469,837.7031,996.5469,841.7031,992.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="523.6353" x2="843.7031" y1="992.5469" y2="992.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5127" x="530.6353" y="987.6904">Verify PIN</text></g><g class="message" data-participant-1="SecService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,1018.8984,1221.2261,1022.8984,1211.2261,1026.8984,1215.2261,1022.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="859.7031" x2="1217.2261" y1="1022.8984" y2="1022.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7808" x="866.7031" y="1018.042">Get stored PIN hash</text></g><g class="message" data-participant-1="DB" data-participant-2="SecService"><polygon fill="#181818" points="870.7031,1049.25,860.7031,1053.25,870.7031,1057.25,866.7031,1053.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="864.7031" x2="1227.2261" y1="1053.25" y2="1053.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4727" x="876.7031" y="1048.3936">PIN hash</text></g><g class="message" data-participant-1="SecService" data-participant-2="SecService"><line style="stroke:#181818;stroke-width:1;" x1="859.7031" x2="901.7031" y1="1083.6016" y2="1083.6016"/><line style="stroke:#181818;stroke-width:1;" x1="901.7031" x2="901.7031" y1="1083.6016" y2="1096.6016"/><line style="stroke:#181818;stroke-width:1;" x1="860.7031" x2="901.7031" y1="1096.6016" y2="1096.6016"/><polygon fill="#181818" points="870.7031,1092.6016,860.7031,1096.6016,870.7031,1100.6016,866.7031,1096.6016" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.2617" x="866.7031" y="1078.7451">Validate PIN</text></g><path d="M20,1111.6016 L80.1709,1111.6016 L80.1709,1119.9531 L70.1709,1129.9531 L20,1129.9531 L20,1111.6016" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="641.2188" style="stroke:#000000;stroke-width:1.5;" width="1255.1914" x="20" y="1111.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="35" y="1126.0967">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63.5615" x="95.1709" y="1125.0205">[Invalid PIN]</text><g class="message" data-participant-1="SecService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,1148.3047,524.6353,1152.3047,534.6353,1156.3047,530.6353,1152.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="848.7031" y1="1152.3047" y2="1152.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="540.6353" y="1147.4482">401 Unauthorized</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="317.8228,1178.6563,307.8228,1182.6563,317.8228,1186.6563,313.8228,1182.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="311.8228" x2="512.6353" y1="1182.6563" y2="1182.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="323.8228" y="1177.7998">401 Unauthorized</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="99.5757,1209.0078,89.5757,1213.0078,99.5757,1217.0078,95.5757,1213.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="93.5757" x2="295.8228" y1="1213.0078" y2="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9663" x="105.5757" y="1208.1514">Display PIN error</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="1275.1914" y1="1222.0078" y2="1222.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="53.7861" x="25" y="1233.4268">[PIN valid]</text><g class="message" data-participant-1="SecService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,1255.1953,524.6353,1259.1953,534.6353,1263.1953,530.6353,1259.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="853.7031" y1="1259.1953" y2="1259.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="540.6353" y="1254.3389">200 OK</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="501.6353,1285.5469,511.6353,1289.5469,501.6353,1293.5469,505.6353,1289.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="306.8228" x2="507.6353" y1="1289.5469" y2="1289.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8125" x="313.8228" y="1284.6904">POST /api/transactions/execute</text></g><g class="message" data-participant-1="Gateway" data-participant-2="TransService"><polygon fill="#181818" points="667.8569,1315.8984,677.8569,1319.8984,667.8569,1323.8984,671.8569,1319.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="523.6353" x2="673.8569" y1="1319.8984" y2="1319.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1753" x="530.6353" y="1315.042">Execute transaction</text></g><g class="message" data-participant-1="TransService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,1346.25,1221.2261,1350.25,1211.2261,1354.25,1215.2261,1350.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1217.2261" y1="1350.25" y2="1350.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4517" x="696.8569" y="1345.3936">Begin transaction</text></g><g class="message" data-participant-1="TransService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,1376.6016,1221.2261,1380.6016,1211.2261,1384.6016,1215.2261,1380.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1217.2261" y1="1380.6016" y2="1380.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8525" x="696.8569" y="1375.7451">Debit sender account</text></g><g class="message" data-participant-1="TransService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,1406.9531,1221.2261,1410.9531,1211.2261,1414.9531,1215.2261,1410.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1217.2261" y1="1410.9531" y2="1410.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5698" x="696.8569" y="1406.0967">Credit recipient account</text></g><g class="message" data-participant-1="TransService" data-participant-2="DB"><polygon fill="#181818" points="1211.2261,1437.3047,1221.2261,1441.3047,1211.2261,1445.3047,1215.2261,1441.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1217.2261" y1="1441.3047" y2="1441.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.6816" x="696.8569" y="1436.4482">Create transaction record</text></g><g class="message" data-participant-1="DB" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,1467.6563,690.8569,1471.6563,700.8569,1475.6563,696.8569,1471.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="1227.2261" y1="1471.6563" y2="1471.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2808" x="706.8569" y="1466.7998">Transaction complete</text></g><g class="message" data-participant-1="TransService" data-participant-2="NotifService"><polygon fill="#181818" points="1097.3472,1498.0078,1107.3472,1502.0078,1097.3472,1506.0078,1101.3472,1502.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1103.3472" y1="1502.0078" y2="1502.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.5952" x="696.8569" y="1497.1514">Send confirmation to sender</text></g><g class="message" data-participant-1="NotifService" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,1528.3594,690.8569,1532.3594,700.8569,1536.3594,696.8569,1532.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="1113.3472" y1="1532.3594" y2="1532.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2998" x="706.8569" y="1527.5029">Notification queued</text></g><g class="message" data-participant-1="TransService" data-participant-2="NotifService"><polygon fill="#181818" points="1097.3472,1558.7109,1107.3472,1562.7109,1097.3472,1566.7109,1101.3472,1562.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="1103.3472" y1="1562.7109" y2="1562.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.3252" x="696.8569" y="1557.8545">Send notification to recipient</text></g><g class="message" data-participant-1="NotifService" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,1589.0625,690.8569,1593.0625,700.8569,1597.0625,696.8569,1593.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="1113.3472" y1="1593.0625" y2="1593.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2998" x="706.8569" y="1588.2061">Notification queued</text></g><g class="message" data-participant-1="TransService" data-participant-2="AccountService"><polygon fill="#181818" points="962.8545,1619.4141,972.8545,1623.4141,962.8545,1627.4141,966.8545,1623.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.8569" x2="968.8545" y1="1623.4141" y2="1623.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5698" x="696.8569" y="1618.5576">Update balances</text></g><g class="message" data-participant-1="AccountService" data-participant-2="TransService"><polygon fill="#181818" points="700.8569,1649.7656,690.8569,1653.7656,700.8569,1657.7656,696.8569,1653.7656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="694.8569" x2="978.8545" y1="1653.7656" y2="1653.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0825" x="706.8569" y="1648.9092">Balances updated</text></g><g class="message" data-participant-1="TransService" data-participant-2="Gateway"><polygon fill="#181818" points="534.6353,1680.1172,524.6353,1684.1172,534.6353,1688.1172,530.6353,1684.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="528.6353" x2="683.8569" y1="1684.1172" y2="1684.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2217" x="540.6353" y="1679.2607">Transaction successful</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="317.8228,1710.4688,307.8228,1714.4688,317.8228,1718.4688,313.8228,1714.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="311.8228" x2="517.6353" y1="1714.4688" y2="1714.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.207" x="323.8228" y="1709.6123">200 OK with transaction details</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="94.5757,1740.8203,84.5757,1744.8203,94.5757,1748.8203,90.5757,1744.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="88.5757" x2="300.8228" y1="1744.8203" y2="1744.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2471" x="100.5757" y="1739.9639">Display transaction confirmation</text></g><!--SRC=[pLVDRzCm5B_dhtZQlUf0NEW1QLt7D26sQcNSFUU5MgH9i9sEyjVpx3Y9xRZjnebALHFxVVxUPndNjOIBH_mXb4Q9EJmfb1V0b7t86YQruA9XbOQBpwnKzPeTuAffB0dzXXHNwpkuPHfVsC4IkEUGw9jabM9SYxg23Sgzu6Y9xRax23aso5ifz24WfyCayHNdTKiFFgqxIzBVrreKWhE9FVOYoR9YcZqprP6jbbccXIuHdgvd7nSaeihXQrtX8SiCXZ3xP81Qm5qbj210O6SkGHjt2yBOGB4tvmREuSN2dz6HuNSuBc3ziFa6SzQ8kHvHLFD68Xc88tSFVEOUZ10VNvBKiO0dPsGFGf7vRzQR0Cq5N6-H_mH5VfEtpwna5VTCYR3FmdSZRxLSm2rgO2vo4n44yMe9iuJgPKSAEKKaoz7do5Yf2NFL5XHTWIItQAjSPK2Vs8O9EW5VRu_X3B7mG_FXyfBCoU4HVxMejAKUqEzp84LaOqm49k8BM0dLbCGY9fO3IbdB34k5i6avH_LAPtgGHe6MpuChYf6vJNWRoxsMQ9Yz389SiaAV0SglVvUuUHgjzuJMmnTu4NeRQa7DHAb6ErsPMAOUmBw-O8TwM-TGDxPMB7rNbpt71alaEcQOI3zNX1xRqQhRO5fF3BGfYQScZ-6Lo6lPSVYfRjvTWKJgl3G9g-DqY3hWJmKbZRrBQrZVtITmlgben0ntPw1LhkVFzoX5SPWreegX7IV00hvRga7uuAet9GQbuvdVVHHDGff_906sJ6rFWUmh3kYd62SK1cQpKjWe1wXqdMjlxeQBM4xOUjx1KyLQIYSf_hXgEj9_Zb2ccv1nhkiwXiPs7dDaBJjhbPSe4JPHK0Q_tr1i-9loG-FKqxW4RZh2OCvDbARARqaxKPLaYsDyLjGAduNk1wIRSYSPgBFcn47bBXex05x9TA9V14OccuNVbtczQqhqy9rczacl_Tt9hKIyhWeXTzsUfMi7nnJKOEtgR_t3XEd13aSjgFKosxCyAVejFbI-7l9X2D1_x4QyChcnufOQDRKyiGoyPSrGq5eDITEFo3vY_B6jGNLZhMZBb8vWUPre-ASb8zBGRzVfvZNfeZeehB4AaW3HVu34iVqtO7jmbMVc-nS0]--></g></svg>