@startuml Falsopay_Use_Case_Diagram

' Styling
skinparam usecase {
  BackgroundColor #F5F5F5
  BorderColor #2196F3
  ArrowColor #2196F3
  FontColor black
}

skinparam actor {
  BackgroundColor #E3F2FD
  BorderColor #2196F3
  FontColor black
}

skinparam package {
  BackgroundColor #FAFAFA
  BorderColor #78909C
}

' Title
title Falsopay - System Use Case Diagram

' Actors
actor "User" as user
actor "Admin" as admin
actor "Customer Support Agent" as agent
actor "Bank System" as bank
actor "Registered User" as regUser
actor "Payment System" as payment

' Actor hierarchies
user <|-- regUser
user <|-- admin
user <|-- agent

' Packages and Use Cases
package "User Management" {
  usecase "UC01: Register Account" as UC01
  usecase "UC02: Login to System" as UC02
  usecase "UC03: Update Profile" as UC03
  usecase "UC04: Verify Phone Number" as UC04
  usecase "UC05: Reset Password" as UC05
  usecase "UC06: Logout" as UC06
}

package "Account Management" {
  usecase "UC07: Link Bank Account" as UC07
  usecase "UC08: Set Default Account" as UC08
  usecase "UC09: View Account Balance" as UC09
  usecase "UC10: Create Instant Payment Address" as UC10
  usecase "UC11: Manage Instant Payment Addresses" as UC11
}

package "Payment Operations" {
  usecase "UC12: Send Money" as UC12
  usecase "UC13: Request Money" as UC13
  usecase "UC14: Accept/Reject Money Request" as UC14
  usecase "UC15: View Transaction History" as UC15
  usecase "UC16: Add Payment Favorite" as UC16
  usecase "UC17: Pay using Saved Favorite" as UC17
  usecase "UC18: Export Transaction Records" as UC18
}

package "Card Management" {
  usecase "UC19: Add Payment Card" as UC19
  usecase "UC20: View Cards" as UC20
  usecase "UC21: Remove Card" as UC21
}

package "Support" {
  usecase "UC22: Create Support Ticket" as UC22
  usecase "UC23: View Support Tickets" as UC23
  usecase "UC24: Reply to Support Ticket" as UC24
  usecase "UC25: Close Support Ticket" as UC25
  usecase "UC26: Assign Support Ticket" as UC26
}

package "System Administration" {
  usecase "UC27: Change System Settings" as UC27
  usecase "UC28: View System Logs" as UC28
  usecase "UC29: Manage User Accounts" as UC29
  usecase "UC30: Toggle Maintenance Mode" as UC30
  usecase "UC31: Set Transaction Limits" as UC31
}

' Use Case Relationships - Include and Extend
UC12 ..> UC09 : <<include>>
UC13 ..> UC09 : <<include>>
UC01 ..> UC04 : <<include>>
UC17 ..> UC12 : <<include>>
UC14 ..> UC12 : <<extend>>
UC27 ..> UC31 : <<include>>
UC11 ..> UC10 : <<include>>
UC23 ..> UC24 : <<extend>>

' Actor to Use Case Relationships
user --> UC01
user --> UC02
regUser --> UC03
regUser --> UC04
user --> UC05
regUser --> UC06

regUser --> UC07
regUser --> UC08
regUser --> UC09
regUser --> UC10
regUser --> UC11

regUser --> UC12
regUser --> UC13
regUser --> UC14
regUser --> UC15
regUser --> UC16
regUser --> UC17
regUser --> UC18

regUser --> UC19
regUser --> UC20
regUser --> UC21

user --> UC22
regUser --> UC23
regUser --> UC24
agent --> UC25
agent --> UC26

admin --> UC27
admin --> UC28
admin --> UC29
admin --> UC30
admin --> UC31

' External system interactions
bank --> UC07
bank --> UC09
bank --> UC12
payment --> UC12
payment --> UC19

@enduml 