<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="648px" preserveAspectRatio="none" style="width:1603px;height:648px;background:#FFFFFF;" version="1.1" viewBox="0 0 1603 648" width="1603px" zoomAndPan="magnify"><title>FalsoPay: Send Money - Precondition</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250.4824" x="669.6792" y="24.5332">FalsoPay: Send Money - Precondition</text><g class="entity" data-entity="senderUser" data-source-line="20" data-uid="ent0002" id="entity_senderUser"><rect fill="#E8F5E9" height="170.4844" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="222.5332" x="263.5" y="45.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5928" x="317.9702" y="62.1426">senderUser : User</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="264.5" x2="485.0332" y1="67.2188" y2="67.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.0098" x="269.5" y="85.752">userId = 1001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.1494" x="269.5" y="103.3613">firstName = "John"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.708" x="269.5" y="120.9707">lastName = "Doe"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.5332" x="269.5" y="138.5801">email = "john.doe@example.com"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.6553" x="269.5" y="156.1895">phoneNumber = "+1234567890"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1357" x="269.5" y="173.7988">role = "USER"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8115" x="269.5" y="191.4082">status = "ACTIVE"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.7197" x="269.5" y="209.0176">defaultAccount = 5001</text></g><g class="entity" data-entity="recipientUser" data-source-line="31" data-uid="ent0003" id="entity_recipientUser"><rect fill="#E8F5E9" height="170.4844" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="232.623" x="708.5" y="45.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7031" x="762.96" y="62.1426">recipientUser : User</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="709.5" x2="940.123" y1="67.2188" y2="67.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.0098" x="714.5" y="85.752">userId = 1002</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.1494" x="714.5" y="103.3613">firstName = "Jane"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8115" x="714.5" y="120.9707">lastName = "Smith"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.623" x="714.5" y="138.5801">email = "jane.smith@example.com"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.6553" x="714.5" y="156.1895">phoneNumber = "+1987654321"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1357" x="714.5" y="173.7988">role = "USER"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8115" x="714.5" y="191.4082">status = "ACTIVE"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.7197" x="714.5" y="209.0176">defaultAccount = 5002</text></g><g class="entity" data-entity="senderAccount" data-source-line="42" data-uid="ent0004" id="entity_senderAccount"><rect fill="#E8F5E9" height="170.4844" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="239.5342" x="7" y="293.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.5576" x="32.9883" y="310.1426">senderAccount : BankAccount</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="8" x2="245.5342" y1="315.2188" y2="315.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.8096" x="13" y="333.752">accountId = 5001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.3477" x="13" y="351.3613">bankId = 101</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.7969" x="13" y="368.9707">accountNumber = "123456789"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6924" x="13" y="386.5801">bankUserId = 2001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.5342" x="13" y="404.1895">iban = "US12345678901234567890"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2529" x="13" y="421.7988">type = "CHECKING"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8115" x="13" y="439.4082">status = "ACTIVE"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.6025" x="13" y="457.0176">balance = 1000.00</text></g><g class="entity" data-entity="recipientAccount" data-source-line="53" data-uid="ent0005" id="entity_recipientAccount"><rect fill="#E8F5E9" height="170.4844" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="239.5342" x="565" y="293.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.668" x="585.9331" y="310.1426">recipientAccount : BankAccount</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="566" x2="803.5342" y1="315.2188" y2="315.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.8096" x="571" y="333.752">accountId = 5002</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.3477" x="571" y="351.3613">bankId = 102</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.7969" x="571" y="368.9707">accountNumber = "987654321"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6924" x="571" y="386.5801">bankUserId = 2002</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.5342" x="571" y="404.1895">iban = "US09876543210987654321"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2529" x="571" y="421.7988">type = "CHECKING"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8115" x="571" y="439.4082">status = "ACTIVE"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.8164" x="571" y="457.0176">balance = 500.00</text></g><g class="entity" data-entity="senderIPA" data-source-line="64" data-uid="ent0006" id="entity_senderIPA"><rect fill="#E8F5E9" height="135.2656" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="246.8008" x="282.5" y="311.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.6748" x="293.063" y="327.6426">senderIPA : InstantPaymentAddress</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="283.5" x2="528.3008" y1="332.7188" y2="332.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.458" x="288.5" y="351.252">ipaId = 3001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.3477" x="288.5" y="368.8613">bankId = 101</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.7969" x="288.5" y="386.4707">accountNumber = "123456789"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.6523" x="288.5" y="404.0801">ipaAddress = "john.doe"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.0098" x="288.5" y="421.6895">userId = 1001</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.8008" x="288.5" y="439.2988">pin = "$2a$12$xYz..." ' Encrypted PIN</text></g><g class="entity" data-entity="recipientIPA" data-source-line="73" data-uid="ent0007" id="entity_recipientIPA"><rect fill="#E8F5E9" height="135.2656" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="249.7852" x="840" y="311.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.7852" x="847" y="327.6426">recipientIPA : InstantPaymentAddress</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="841" x2="1088.7852" y1="332.7188" y2="332.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.458" x="846" y="351.252">ipaId = 3002</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.3477" x="846" y="368.8613">bankId = 102</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.7969" x="846" y="386.4707">accountNumber = "987654321"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.7422" x="846" y="404.0801">ipaAddress = "jane.smith"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.0098" x="846" y="421.6895">userId = 1002</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.0352" x="846" y="439.2988">pin = "$2a$12$abc..." ' Encrypted PIN</text></g><g class="entity" data-entity="transactionService" data-source-line="82" data-uid="ent0008" id="entity_transactionService"><rect fill="#E8F5E9" height="37.6094" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="260.6611" x="1231.5" y="111.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.6611" x="1238.5" y="128.1426">transactionService : TransactionService</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="1232.5" x2="1491.1611" y1="133.2188" y2="133.2188"/></g><g class="entity" data-entity="accountService" data-source-line="85" data-uid="ent0009" id="entity_accountService"><rect fill="#E8F5E9" height="37.6094" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="218.6543" x="1125.5" y="359.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.6543" x="1132.5" y="376.1426">accountService : AccountService</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="1126.5" x2="1343.1543" y1="381.2188" y2="381.2188"/></g><g class="entity" data-entity="securityService" data-source-line="88" data-uid="ent0010" id="entity_securityService"><rect fill="#E8F5E9" height="37.6094" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="217.8408" x="1380" y="359.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.8408" x="1387" y="376.1426">securityService : SecurityService</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="1381" x2="1596.8408" y1="381.2188" y2="381.2188"/></g><g class="entity" data-entity="database" data-source-line="91" data-uid="ent0011" id="entity_database"><rect fill="#E8F5E9" height="100.0469" rx="2.5" ry="2.5" style="stroke:#4CAF50;stroke-width:0.5;" width="345.4775" x="1189.5" y="541.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.2061" x="1297.6357" y="558.1426">database : Database</text><line style="stroke:#4CAF50;stroke-width:0.5;" x1="1190.5" x2="1533.9775" y1="563.2188" y2="563.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.8027" x="1195.5" y="581.752">users = [User(1001), User(1002)]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.4775" x="1195.5" y="599.3613">accounts = [BankAccount(5001), BankAccount(5002)]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.2646" x="1195.5" y="616.9707">ipas = [IPA(3001), IPA(3002)]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.2168" x="1195.5" y="634.5801">transactions = []</text></g><g class="entity" data-entity="GMN12" data-source-line="99" data-uid="ent0013" id="entity_GMN12"><path d="M31,570.1094 L31,612.8125 A0,0 0 0 0 31,612.8125 L222.5552,612.8125 A0,0 0 0 0 222.5552,612.8125 L222.5552,580.1094 L212.5552,570.1094 L131,570.1094 L127,463.9094 L123,570.1094 L31,570.1094 A0,0 0 0 0 31,570.1094" fill="#FFFDE7" style="stroke:#FFC107;stroke-width:0.5;"/><path d="M212.5552,570.1094 L212.5552,580.1094 L222.5552,580.1094 L212.5552,570.1094" fill="#FFFDE7" style="stroke:#FFC107;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5552" x="37" y="588.6045">Sender has sufficient balance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1289" x="37" y="604.9561">to perform the transaction</text></g><!--link senderUser to senderAccount--><g class="link" data-entity-1="senderUser" data-entity-2="senderAccount" data-source-line="103" data-uid="lnk15" id="link_senderUser_senderAccount"><path codeLine="103" d="M290,215.9294 C264.76,240.9594 241.3795,264.1537 216.1495,289.1837" fill="none" id="senderUser-to-senderAccount" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="211.89,293.4094,221.0964,289.9104,215.4396,289.8879,215.4621,284.2311,211.89,293.4094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.96" x="260" y="260.1045">has</text></g><!--link recipientUser to recipientAccount--><g class="link" data-entity-1="recipientUser" data-entity-2="recipientAccount" data-source-line="104" data-uid="lnk16" id="link_recipientUser_recipientAccount"><path codeLine="104" d="M777.02,215.9294 C762.77,240.9594 750.1385,263.1652 735.8885,288.1952" fill="none" id="recipientUser-to-recipientAccount" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="732.92,293.4094,740.8489,287.5671,735.3938,289.0642,733.8967,283.6091,732.92,293.4094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.96" x="761" y="260.1045">has</text></g><!--link senderUser to senderIPA--><g class="link" data-entity-1="senderUser" data-entity-2="senderIPA" data-source-line="105" data-uid="lnk17" id="link_senderUser_senderIPA"><path codeLine="105" d="M385.63,215.9294 C389.53,246.9394 393.1493,275.6565 396.8393,304.9165" fill="none" id="senderUser-to-senderIPA" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="397.59,310.8694,400.4325,301.4396,396.9644,305.9087,392.4954,302.4406,397.59,310.8694" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.96" x="393" y="260.1045">has</text></g><!--link recipientUser to recipientIPA--><g class="link" data-entity-1="recipientUser" data-entity-2="recipientIPA" data-source-line="106" data-uid="lnk18" id="link_recipientUser_recipientIPA"><path codeLine="106" d="M872.98,215.9294 C890.64,246.9394 907.4026,276.3946 924.0526,305.6546" fill="none" id="recipientUser-to-recipientIPA" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="927.02,310.8694,926.0454,301.0689,924.5471,306.5237,919.0923,305.0254,927.02,310.8694" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.96" x="901" y="260.1045">has</text></g><!--link transactionService to accountService--><g class="link" data-entity-1="transactionService" data-entity-2="accountService" data-source-line="107" data-uid="lnk19" id="link_transactionService_accountService"><path codeLine="107" d="M1352.66,149.6994 C1329.18,195.1894 1270.6024,308.6379 1247.1024,354.1579" fill="none" id="transactionService-to-accountService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1244.35,359.4894,1252.0329,353.3271,1246.6437,355.0465,1244.9243,349.6573,1244.35,359.4894" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.46" x="1303" y="260.1045">uses</text></g><!--link transactionService to securityService--><g class="link" data-entity-1="transactionService" data-entity-2="securityService" data-source-line="108" data-uid="lnk20" id="link_transactionService_securityService"><path codeLine="108" d="M1371.34,149.6994 C1394.82,195.1894 1453.3976,308.6379 1476.8976,354.1579" fill="none" id="transactionService-to-securityService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1479.65,359.4894,1479.0757,349.6573,1477.3563,355.0465,1471.9671,353.3271,1479.65,359.4894" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.46" x="1430" y="260.1045">uses</text></g><!--link accountService to database--><g class="link" data-entity-1="accountService" data-entity-2="database" data-source-line="109" data-uid="lnk21" id="link_accountService_database"><path codeLine="109" d="M1246.05,397.9694 C1265.12,429.6494 1301.7256,490.4689 1329.3256,536.3189" fill="none" id="accountService-to-database" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1332.42,541.4594,1331.2054,531.6857,1329.8413,537.1756,1324.3514,535.8116,1332.42,541.4594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4854" x="1314" y="508.1045">connects to</text></g><!--link securityService to database--><g class="link" data-entity-1="securityService" data-entity-2="database" data-source-line="110" data-uid="lnk22" id="link_securityService_database"><path codeLine="110" d="M1477.95,397.9694 C1458.88,429.6494 1422.2744,490.4689 1394.6744,536.3189" fill="none" id="securityService-to-database" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1391.58,541.4594,1399.6486,535.8116,1394.1587,537.1756,1392.7946,531.6857,1391.58,541.4594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4854" x="1418" y="508.1045">connects to</text></g><!--SRC=[fLPjJzim4FwUN-45f84sgZGb52fjMcdJhOoLYfPfQ4B8ITmraDYHuqvqYF- -SvmqhuM9zKkJytFdUvuxd_F68mkV4dHnUcOFvhUp-VMvVJiQdv-Z7VjuPDadsficnEd5vT2-H3k7W_x8CfenS_l77EqOoK_JudkVHfZZ437dZhW2FMe8VWvsxtznjgBUW0MCr_DGACOzmXiGAey4is1KD21a5jfJSN_A1Dco-yveD1hQtTgUO1-qZMvbdumRH1U-20ZIHpY8sHIlUsX6g8U-CKhMw01DEN4PzNpXCwfhMYg07WE6yAkOSDH3yaz7E4O5gqfo1OzZ3tr0RSDegnHy7ei93WaOzJEsXA3I7E3SEcH46Kc8_K1QxW3NyXZvH1vm60MavR9GGQ8bv3bPXGvi2S1tRRDpQ1rrZqyCjSvPaCIycjcNoX8BB5QnjFK7y_5tMrcX2V0g47tN1KK5h5eouQUSCCZWHpwXeigvl52dRJRGnfJKQSz2Noohn07PYkN2Fr0_EUuUMOSTi_t_rCqYTLNLRBs7JZ6zJzyALS_MbG9OlIKYM5dj7N1CPMaNKJc9JVdqZSDLfgMPXV71h8ZbrQxMNQoZXFpWYptuEfvyVau01mUOkaILosYfKr6h-tR-DKYZ16PL0hDPWaeLgnAO5GcC3TweUBvE0gkcW2hlUDe7wcCA_bJ0c0WbNy_Z98uBJI1HYhqVuIJbpgkB3n7I3OeZGDyoLo8_4MJNnBjjS_VX-a-hrTBHMsHJbwyZGJmq7KyQ2_iIinAmHkwLPQsGsnnpVSlyADF3ZliIFS4nZR4hn_QCyDy-5BU7vZLZmh01-rYCbPB9u_HBXYH61VDOxY1tnNsnpWFCofQqWygeKWWF2-pWMFeEqyV4QMFF1wzKzASyCdkoEVRVe-pPtByfrYR15SxodgNW5LFc1HLBFA0BzZeAcJvcY8AC2V964aXkR8S9mU3hOL6UbU0rIzxHKl9VBHQ-AnijEuwmBXYA25ym7YAn9CKjD7bBo-ZmVP1VkmS77r5rNaDmhNnBILJ3O9F0nbZgYBmG9mSrz9D4rje8ghKLNE-P15s98P65re0l5Ghj0XtDj6g0Pw1_0G00]--></g></svg>