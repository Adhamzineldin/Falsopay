<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="302px" preserveAspectRatio="none" style="width:4665px;height:302px;background:#FFFFFF;" version="1.1" viewBox="0 0 4665 302" width="4665px" zoomAndPan="magnify"><defs/><g><g class="entity" data-entity="User" data-source-line="3" data-uid="ent0002" id="entity_User"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43.5586" x="7" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="14" y="144.8896">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="49.5586" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="App" data-source-line="4" data-uid="ent0003" id="entity_App"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="336.5" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="343.5" y="144.8896">FalsoPay App</text><line style="stroke:#181818;stroke-width:0.5;" x1="337.5" x2="436.6582" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="Gateway" data-source-line="5" data-uid="ent0004" id="entity_Gateway"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="1464" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="1471" y="144.8896">API Gateway</text><line style="stroke:#181818;stroke-width:0.5;" x1="1465" x2="1558.7031" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="AuthService" data-source-line="6" data-uid="ent0005" id="entity_AuthService"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.3027" x="1776.5" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3027" x="1783.5" y="144.8896">Authentication Service</text><line style="stroke:#181818;stroke-width:0.5;" x1="1777.5" x2="1928.8027" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="NotifService" data-source-line="7" data-uid="ent0006" id="entity_NotifService"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="2560" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="2567" y="144.8896">Notification Service</text><line style="stroke:#181818;stroke-width:0.5;" x1="2561" x2="2692.8271" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="UserService" data-source-line="8" data-uid="ent0007" id="entity_UserService"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1309" x="4565" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1309" x="4572" y="144.8896">User Service</text><line style="stroke:#181818;stroke-width:0.5;" x1="4566" x2="4658.1309" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="IPAService" data-source-line="9" data-uid="ent0008" id="entity_IPAService"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1377" x="3990.5" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1377" x="3997.5" y="144.8896">IPA Service</text><line style="stroke:#181818;stroke-width:0.5;" x1="3991.5" x2="4076.6377" y1="149.9658" y2="149.9658"/></g><g class="entity" data-entity="DB" data-source-line="10" data-uid="ent0009" id="entity_DB"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9307" x="4301" y="128.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="4308" y="144.8896">Database</text><line style="stroke:#181818;stroke-width:0.5;" x1="4302" x2="4373.9307" y1="149.9658" y2="149.9658"/></g><!--link User to App--><g class="link" data-entity-1="User" data-entity-2="App" data-source-line="13" data-uid="lnk10" id="link_User_App"><path codeLine="13" d="M32.67,128.0164 C38.83,97.8764 52.16,41.9264 68.25,30.3564 C79.57,22.2164 307.17,23.3964 319.25,30.3564 C355.85,51.4564 372.8314,94.9574 380.6614,122.3574" fill="none" id="User-to-App" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="382.31,128.1264,383.6831,118.3738,380.9362,123.3189,375.991,120.5719,382.31,128.1264" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9771" x="127.75" y="20.8516">1. Enter phone number</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="23" data-uid="lnk20" id="link_App_User"><path codeLine="23" d="M381.05,166.6664 C371.42,194.1564 349.51,243.5464 311.25,264.3564 C299.78,270.5964 87.07,271.6564 76.25,264.3564 C43.74,242.4264 34.2832,199.9263 31.1232,172.7563" fill="none" id="App-to-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="30.43,166.7964,27.4965,176.1983,31.0076,171.763,35.443,175.2741,30.43,166.7964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3062" x="118.75" y="260.8516">11. Enter verification code</text></g><!--link User to App--><g class="link" data-entity-1="User" data-entity-2="App" data-source-line="25" data-uid="lnk21" id="link_User_App"><path codeLine="25" d="M30.97,128.1064 C34.37,106.0164 43.57,70.7264 68.25,54.3564 C79.87,46.6464 306.82,48.0364 319.25,54.3564 C349.52,69.7564 367.018,100.2359 377.008,122.6559" fill="none" id="User-to-App-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="379.45,128.1364,379.4406,118.2876,377.415,123.5693,372.1332,121.5437,379.45,128.1364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3062" x="118.75" y="44.8516">12. Enter verification code</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="28" data-uid="lnk23" id="link_App_User"><path codeLine="28" d="M336.2,147.3564 C257,147.3564 113.38,147.3564 57.12,147.3564" fill="none" id="App-to-User-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="51.12,147.3564,60.12,151.3564,56.12,147.3564,60.12,143.3564,51.12,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.9961" x="69.25" y="140.8516">14a. Display error message (if invalid code)</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="39" data-uid="lnk32" id="link_App_User"><path codeLine="39" d="M365.51,128.3064 C352.96,118.4764 336.28,107.4964 319.25,102.3564 C305.9,98.3264 80.94,96.5864 68.25,102.3564 C56.55,107.6764 50.4149,113.4939 43.6549,123.1339" fill="none" id="App-to-User-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="40.21,128.0464,48.6523,122.9743,43.0807,123.9527,42.1023,118.3811,40.21,128.0464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.9243" x="110.75" y="92.8516">22b1. Redirect to registration</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="56" data-uid="lnk46" id="link_App_User"><path codeLine="56" d="M377.92,166.6464 C366.14,189.1364 343.22,225.1664 311.25,240.3564 C299.46,245.9564 87.38,247.1864 76.25,240.3564 C50.16,224.3464 39.3252,194.782 34.0152,172.572" fill="none" id="App-to-User-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="32.62,166.7364,30.8224,176.4199,33.7826,171.5994,38.6031,174.5596,32.62,166.7364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0488" x="118.25" y="236.8516">32b2a. Display dashboard</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="61" data-uid="lnk50" id="link_App_User"><path codeLine="61" d="M336.46,163.3964 C328.12,165.4564 319.5,167.2364 311.25,168.3564 C285.38,171.8764 101.79,173.7764 76.25,168.3564 C67.82,166.5664 64.5125,165.6921 56.8625,162.1421" fill="none" id="App-to-User-4" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="51.42,159.6164,57.9001,167.0332,55.9554,161.7211,61.2676,159.7765,51.42,159.6164" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.4033" x="77.25" y="164.8516">30b2b. Enter IPA address for verification</text></g><!--link User to App--><g class="link" data-entity-1="User" data-entity-2="App" data-source-line="63" data-uid="lnk51" id="link_User_App"><path codeLine="63" d="M32.56,166.3964 C39.53,201.4264 56.08,273.8464 76.25,288.3564 C86.85,295.9864 300.04,295.0564 311.25,288.3564 C355.97,261.6164 374.4611,204.2505 381.8811,172.3405" fill="none" id="User-to-App-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="383.24,166.4964,377.3056,174.3566,382.1076,171.3665,385.0977,176.1685,383.24,166.4964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7344" x="150.75" y="284.8516">31b2b1. Select</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.5444" x="393.5689" y="187.3852">Reset Account</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="71" data-uid="lnk59" id="link_App_User"><path codeLine="71" d="M362.62,166.4364 C348.48,176.2764 329.84,187.2564 311.25,192.3564 C298.66,195.8164 88.37,197.2064 76.25,192.3564 C63.21,187.1364 55.6394,180.9507 47.2594,171.2807" fill="none" id="App-to-User-5" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="43.33,166.7464,46.2012,176.1675,46.6045,170.525,52.247,170.9283,43.33,166.7464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.3843" x="103.25" y="188.8516">39b2b1. Redirect to registration</text></g><!--link User to App--><g class="link" data-entity-1="User" data-entity-2="App" data-source-line="73" data-uid="lnk60" id="link_User_App"><path codeLine="73" d="M33.99,128.3064 C39.43,111.8264 49.9,89.0264 68.25,78.3564 C80.3,71.3464 306.39,72.9664 319.25,78.3564 C343.25,88.4264 359.5467,106.704 371.4167,123.424" fill="none" id="User-to-App-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="374.89,128.3164,372.9417,118.6622,371.9956,124.2394,366.4184,123.2933,374.89,128.3164" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1016" x="115.75" y="68.8516">31b2b2. Enter IPA address</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="83" data-uid="lnk69" id="link_App_User"><path codeLine="83" d="M336.33,129.8564 C330.63,128.4264 324.85,127.2064 319.25,126.3564 C291.68,122.1764 95.3,119.5764 68.25,126.3564 C62.4,127.8264 61.8107,127.5926 56.3907,130.3926" fill="none" id="App-to-User-6" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="51.06,133.1464,60.8919,132.5694,55.5022,130.8516,57.2201,125.4619,51.06,133.1464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.8779" x="100.25" y="116.8516">40b2b2a. Display error message</text></g><!--link App to User--><g class="link" data-entity-1="App" data-entity-2="User" data-source-line="90" data-uid="lnk75" id="link_App_User"><path codeLine="90" d="M372.94,166.4564 C359.31,183.2064 336.96,206.3964 311.25,216.3564 C299.08,221.0664 87.8,222.4464 76.25,216.3564 C56.47,205.9264 45.8059,188.5686 38.5259,172.0186" fill="none" id="App-to-User-7" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="36.11,166.5264,36.0724,176.3752,38.1232,171.1032,43.3952,173.1541,36.11,166.5264" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.5088" x="111.25" y="212.8516">42b2b2b. Display dashboard</text></g><!--link App to Gateway--><g class="link" data-entity-1="App" data-entity-2="Gateway" data-source-line="14" data-uid="lnk11" id="link_App_Gateway"><path codeLine="14" d="M437.74,154.0664 C521.28,164.7364 693.06,185.1064 839.25,192.3564 C938.24,197.2664 963.26,197.2964 1062.25,192.3564 C1209.01,185.0364 1375.7491,165.1128 1457.9091,154.5328" fill="none" id="App-to-Gateway" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1463.86,153.7664,1454.4228,150.9487,1458.9009,154.405,1455.4446,158.8832,1463.86,153.7664" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8252" x="859.75" y="188.8516">2. POST /api/auth/request-code</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="21" data-uid="lnk18" id="link_Gateway_App"><path codeLine="21" d="M1463.88,164.2064 C1382.44,191.7464 1211.7,245.2364 1062.25,264.3564 C1013.1,270.6464 888.41,270.6164 839.25,264.3564 C690.41,245.4164 526.1989,194.6533 443.4089,166.9033" fill="none" id="Gateway-to-App" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.72,164.9964,444.9822,171.6493,442.4608,166.5855,447.5246,164.0641,437.72,164.9964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.0698" x="892.25" y="260.8516">9. 200 OK with code</text></g><!--link App to Gateway--><g class="link" data-entity-1="App" data-entity-2="Gateway" data-source-line="30" data-uid="lnk24" id="link_App_Gateway"><path codeLine="30" d="M437.52,147.3564 C625.11,147.3564 1274.22,147.3564 1457.83,147.3564" fill="none" id="App-to-Gateway-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1463.83,147.3564,1454.83,143.3564,1458.83,147.3564,1454.83,151.3564,1463.83,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.7915" x="836.25" y="140.8516">14b. POST /api/auth/login (if valid code)</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="38" data-uid="lnk31" id="link_Gateway_App"><path codeLine="38" d="M1463.71,133.8664 C1382.45,111.9364 1212.91,69.4964 1066.25,54.3564 C1015.19,49.0864 886.32,49.1164 835.25,54.3564 C688.98,69.3664 525.826,109.7054 443.356,131.7754" fill="none" id="Gateway-to-App-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.56,133.3264,447.2881,134.8638,442.39,132.0339,445.22,127.1358,437.56,133.3264" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1479" x="889.75" y="44.8516">21b1. 404 Not Found</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="54" data-uid="lnk44" id="link_Gateway_App"><path codeLine="54" d="M1463.92,160.6764 C1382.19,182.5564 1210.58,225.1864 1062.25,240.3564 C1012.95,245.3964 888.55,245.3764 839.25,240.3564 C691.52,225.3264 526.5793,184.8853 443.4793,162.8353" fill="none" id="Gateway-to-App-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.68,161.2964,445.3531,167.4709,442.5128,162.5788,447.4048,159.7384,437.68,161.2964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.6016" x="876.25" y="236.8516">30b2a. 200 OK with token</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="60" data-uid="lnk49" id="link_Gateway_App"><path codeLine="60" d="M1463.8,137.4064 C1382.35,121.1464 1212.06,89.5764 1066.25,78.3564 C963.89,70.4764 937.62,70.5264 835.25,78.3564 C690.01,89.4664 526.4858,119.3914 443.6858,135.7814" fill="none" id="Gateway-to-App-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.8,136.9464,447.4054,139.1227,442.7048,135.9755,445.852,131.275,437.8,136.9464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2598" x="871.75" y="68.8516">29b2b. 200 OK with prompt</text></g><!--link App to Gateway--><g class="link" data-entity-1="App" data-entity-2="Gateway" data-source-line="64" data-uid="lnk52" id="link_App_Gateway"><path codeLine="64" d="M437.5,150.4664 C521.04,155.4464 693.29,164.9664 839.25,168.3564 C938.33,170.6564 963.17,170.6664 1062.25,168.3564 C1208.58,164.9464 1375.4808,155.6459 1457.7808,150.7059" fill="none" id="App-to-Gateway-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1463.77,150.3464,1454.5465,146.8929,1458.779,150.646,1455.0258,154.8785,1463.77,150.3464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.8569" x="840.25" y="164.8516">32b2b1. POST /api/auth/reset-account</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="70" data-uid="lnk58" id="link_Gateway_App"><path codeLine="70" d="M1463.67,130.2764 C1382.73,102.6764 1214.04,49.4264 1066.25,30.3564 C1015.34,23.7864 886.17,23.8164 835.25,30.3564 C687.87,49.2764 525.4339,99.9046 443.2739,127.6846" fill="none" id="Gateway-to-App-4" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.59,129.6064,447.3971,130.5129,442.3266,128.0049,444.8346,122.9344,437.59,129.6064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.688" x="903.75" y="20.8516">38b2b1. 200 OK</text></g><!--link App to Gateway--><g class="link" data-entity-1="App" data-entity-2="Gateway" data-source-line="74" data-uid="lnk61" id="link_App_Gateway"><path codeLine="74" d="M437.73,144.2064 C520.78,139.2164 690.97,129.7364 835.25,126.3564 C937.89,123.9564 963.61,123.9364 1066.25,126.3564 C1211.08,129.7664 1376.181,139.0336 1457.881,143.9836" fill="none" id="App-to-Gateway-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1463.87,144.3464,1455.1284,139.8095,1458.8792,144.0441,1454.6446,147.7948,1463.87,144.3464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.8315" x="853.25" y="116.8516">32b2b2. POST /api/auth/verify-ipa</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="82" data-uid="lnk68" id="link_Gateway_App"><path codeLine="82" d="M1463.69,157.2464 C1381.63,173.4864 1209.54,205.1264 1062.25,216.3564 C963.43,223.8964 938.08,223.8564 839.25,216.3564 C692.34,205.2164 526.7677,175.1421 443.4677,158.7921" fill="none" id="Gateway-to-App-5" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.58,157.6364,445.6411,163.295,442.4864,158.5995,447.1819,155.4448,437.58,157.6364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.4624" x="870.75" y="212.8516">39b2b2a. 401 Unauthorized</text></g><!--link Gateway to App--><g class="link" data-entity-1="Gateway" data-entity-2="App" data-source-line="88" data-uid="lnk73" id="link_Gateway_App"><path codeLine="88" d="M1463.97,140.9064 C1382.4,130.3064 1211.52,109.6664 1066.25,102.3564 C963.71,97.1964 937.79,97.2264 835.25,102.3564 C690.54,109.6064 526.4908,129.1599 443.5808,139.8399" fill="none" id="Gateway-to-App-6" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.63,140.6064,447.0673,143.4238,442.589,139.9677,446.0452,135.4894,437.63,140.6064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0615" x="868.75" y="92.8516">40b2b2b. 200 OK with token</text></g><!--link Gateway to AuthService--><g class="link" data-entity-1="Gateway" data-entity-2="AuthService" data-source-line="15" data-uid="lnk12" id="link_Gateway_AuthService"><path codeLine="15" d="M1535.48,166.4264 C1549.13,176.2564 1567.15,187.2464 1585.25,192.3564 C1603,197.3764 1733.2,196.1664 1751.25,192.3564 C1775.06,187.3264 1794.7375,179.0773 1814.0075,169.2273" fill="none" id="Gateway-to-AuthService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1819.35,166.4964,1809.5157,167.0311,1814.8979,168.7722,1813.1568,174.1544,1819.35,166.4964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.4243" x="1588.25" y="188.8516">3. Request verification code</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="20" data-uid="lnk17" id="link_AuthService_Gateway"><path codeLine="20" d="M1839.41,166.4064 C1821.98,189.0264 1789.4,225.5464 1751.25,240.3564 C1734.06,247.0264 1601.84,248.4064 1585.25,240.3564 C1553.82,225.1064 1534.5123,194.4635 1523.2823,171.9935" fill="none" id="AuthService-to-Gateway" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1520.6,166.6264,1521.0455,176.4652,1522.8353,171.099,1528.2015,172.8888,1520.6,166.6264" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0698" x="1603.25" y="236.8516">8. 200 OK (Code sent)</text></g><!--link Gateway to AuthService--><g class="link" data-entity-1="Gateway" data-entity-2="AuthService" data-source-line="31" data-uid="lnk25" id="link_Gateway_AuthService"><path codeLine="31" d="M1523.5,128.3264 C1534.81,111.6264 1553.78,88.4664 1577.25,78.3564 C1595.82,70.3564 1740.04,72.0464 1759.25,78.3564 C1789.01,88.1264 1812.7694,107.2137 1830.2994,124.0237" fill="none" id="Gateway-to-AuthService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1834.63,128.1764,1830.9026,119.0602,1831.0211,124.7158,1825.3655,124.8344,1834.63,128.1764" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0889" x="1603.25" y="68.8516">15b. Authenticate user</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="37" data-uid="lnk30" id="link_AuthService_Gateway"><path codeLine="37" d="M1840.85,128.3464 C1825.15,105.7664 1795.5,69.2864 1759.25,54.3564 C1749.9,50.5064 1586.22,49.6964 1577.25,54.3564 C1547.5,69.8264 1530.8159,100.2256 1521.3959,122.6256" fill="none" id="AuthService-to-Gateway-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1519.07,128.1564,1526.2461,121.4108,1521.0083,123.5474,1518.8716,118.3096,1519.07,128.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1479" x="1607.25" y="44.8516">20b1. 404 Not Found</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="53" data-uid="lnk43" id="link_AuthService_Gateway"><path codeLine="53" d="M1832.75,166.5664 C1813.5,183.3964 1782.88,206.6464 1751.25,216.3564 C1733.62,221.7664 1602.39,223.1564 1585.25,216.3564 C1560.08,206.3664 1542.2359,187.903 1529.1459,171.163" fill="none" id="AuthService-to-Gateway-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1525.45,166.4364,1527.8429,175.9902,1528.53,170.3752,1534.1449,171.0623,1525.45,166.4364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.6016" x="1593.75" y="212.8516">29b2a. 200 OK with token</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="59" data-uid="lnk48" id="link_AuthService_Gateway"><path codeLine="59" d="M1822.19,128.2364 C1804.49,118.3864 1781.43,107.4064 1759.25,102.3564 C1739.53,97.8664 1596.56,96.3464 1577.25,102.3564 C1560.7,107.5164 1549.2811,114.7061 1537.2311,124.5261" fill="none" id="AuthService-to-Gateway-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1532.58,128.3164,1542.0836,125.7316,1536.4559,125.1578,1537.0298,119.5301,1532.58,128.3164" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2598" x="1589.25" y="92.8516">28b2b. 200 OK with prompt</text></g><!--link Gateway to AuthService--><g class="link" data-entity-1="Gateway" data-entity-2="AuthService" data-source-line="65" data-uid="lnk53" id="link_Gateway_AuthService"><path codeLine="65" d="M1560.13,147.3564 C1616.31,147.3564 1703.95,147.3564 1770.2,147.3564" fill="none" id="Gateway-to-AuthService-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1776.2,147.3564,1767.2,143.3564,1771.2,147.3564,1767.2,151.3564,1776.2,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6797" x="1578.25" y="140.8516">33b2b1. Reset account request</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="69" data-uid="lnk57" id="link_AuthService_Gateway"><path codeLine="69" d="M1844.29,127.9064 C1830.68,100.2364 1801.49,50.6364 1759.25,30.3564 C1750.14,25.9764 1585.97,25.2364 1577.25,30.3564 C1541.15,51.5564 1525.1008,94.9877 1517.8308,122.3477" fill="none" id="AuthService-to-Gateway-4" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1516.29,128.1464,1522.4671,120.4755,1517.574,123.3141,1514.7354,118.4211,1516.29,128.1464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.688" x="1621.25" y="20.8516">37b2b1. 200 OK</text></g><!--link Gateway to AuthService--><g class="link" data-entity-1="Gateway" data-entity-2="AuthService" data-source-line="75" data-uid="lnk62" id="link_Gateway_AuthService"><path codeLine="75" d="M1517.56,166.6464 C1526.63,194.1064 1547.51,243.4564 1585.25,264.3564 C1593.32,268.8264 1742.86,268.1764 1751.25,264.3564 C1795.59,244.1564 1825.1929,199.2907 1840.4329,171.6507" fill="none" id="Gateway-to-AuthService-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1843.33,166.3964,1835.4816,172.3464,1840.9158,170.775,1842.4872,176.2092,1843.33,166.3964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3989" x="1614.25" y="260.8516">33b2b2. Verify IPA</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="81" data-uid="lnk67" id="link_AuthService_Gateway"><path codeLine="81" d="M1776.49,128.7764 C1770.68,127.8064 1764.89,126.9764 1759.25,126.3564 C1719.05,121.9064 1617.21,120.0864 1577.25,126.3564 C1571.61,127.2464 1571.5926,127.01 1565.8526,128.52" fill="none" id="AuthService-to-Gateway-5" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1560.05,130.0464,1569.7715,131.6251,1564.8855,128.7744,1567.7362,123.8884,1560.05,130.0464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.4624" x="1588.25" y="116.8516">38b2b2a. 401 Unauthorized</text></g><!--link AuthService to Gateway--><g class="link" data-entity-1="AuthService" data-entity-2="Gateway" data-source-line="87" data-uid="lnk72" id="link_AuthService_Gateway"><path codeLine="87" d="M1776.31,164.9064 C1767.89,166.3264 1759.41,167.5264 1751.25,168.3564 C1714.55,172.1064 1621.78,173.4864 1585.25,168.3564 C1577,167.1964 1574.1792,166.8376 1565.8592,164.6876" fill="none" id="AuthService-to-Gateway-6" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1560.05,163.1864,1567.763,169.311,1564.891,164.4374,1569.7645,161.5654,1560.05,163.1864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0615" x="1586.25" y="164.8516">39b2b2b. 200 OK with token</text></g><!--link AuthService to NotifService--><g class="link" data-entity-1="AuthService" data-entity-2="NotifService" data-source-line="16" data-uid="lnk13" id="link_AuthService_NotifService"><path codeLine="16" d="M1929.69,147.3564 C2081.2,147.3564 2410.61,147.3564 2553.94,147.3564" fill="none" id="AuthService-to-NotifService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2559.94,147.3564,2550.94,143.3564,2554.94,147.3564,2550.94,151.3564,2559.94,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.207" x="2161.75" y="140.8516">4. Generate verification code</text></g><!--link NotifService to AuthService--><g class="link" data-entity-1="NotifService" data-entity-2="AuthService" data-source-line="19" data-uid="lnk16" id="link_NotifService_AuthService"><path codeLine="19" d="M2560,152.6464 C2490.57,157.8464 2378.9,165.4164 2282.25,168.3564 C2158.82,172.1164 2021.5575,162.7552 1935.7075,155.3052" fill="none" id="NotifService-to-AuthService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.73,154.7864,1938.3505,159.5496,1934.7113,155.2187,1939.0421,151.5795,1929.73,154.7864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7153" x="2208.25" y="164.8516">7. Code sent</text></g><!--link NotifService to NotifService--><g class="link" data-entity-1="NotifService" data-entity-2="NotifService" data-source-line="17" data-uid="lnk14" id="link_NotifService_NotifService"><path codeLine="17" d="M2694.2,143.8064 C2713.81,143.9264 2729,145.1164 2729,147.3564 C2729,149.6064 2719.8099,150.7497 2700.1999,150.8697" fill="none" id="NotifService-to-NotifService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2694.2,150.9064,2703.2243,154.8513,2699.1999,150.8758,2703.1754,146.8514,2694.2,150.9064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1479" x="2735" y="152.8516">5. Generate random code</text></g><!--link NotifService to NotifService--><g class="link" data-entity-1="NotifService" data-entity-2="NotifService" data-source-line="18" data-uid="lnk15" id="link_NotifService_NotifService"><path codeLine="18" d="M2694.19,141.7164 C2774.18,138.5564 2889,140.4364 2889,147.3564 C2889,154.2764 2780.1753,156.3933 2700.1853,153.2333" fill="none" id="NotifService-to-NotifService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2694.19,152.9964,2703.0251,157.3486,2699.1861,153.1938,2703.3409,149.3548,2694.19,152.9964" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.1289" x="2895" y="152.8516">6. Send SMS with code</text></g><!--link App to App--><g class="link" data-entity-1="App" data-entity-2="App" data-source-line="22" data-uid="lnk19" id="link_App_App"><path codeLine="22" d="M437.91,145.5764 C456.88,145.5164 472.5,146.1164 472.5,147.3564 C472.5,148.5964 462.88,149.2154 443.91,149.1554" fill="none" id="App-to-App" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.91,149.1364,446.8973,153.1649,442.91,149.1523,446.9226,145.1649,437.91,149.1364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3062" x="478.5" y="152.8516">10. Store verification code</text></g><!--link App to App--><g class="link" data-entity-1="App" data-entity-2="App" data-source-line="26" data-uid="lnk22" id="link_App_App"><path codeLine="26" d="M437.68,144.8064 C512.65,142.8664 634.5,143.7164 634.5,147.3564 C634.5,150.9964 518.648,152.0017 443.678,150.0617" fill="none" id="App-to-App-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.68,149.9064,446.5735,154.1379,442.6783,150.0358,446.7805,146.1406,437.68,149.9064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.7051" x="640.5" y="152.8516">13. Verify entered code matches stored code</text></g><!--link App to App--><g class="link" data-entity-1="App" data-entity-2="App" data-source-line="55" data-uid="lnk45" id="link_App_App"><path codeLine="55" d="M437.78,144.5564 C572.22,140.4064 904.5,141.3364 904.5,147.3564 C904.5,153.3764 578.2171,154.4916 443.7771,150.3416" fill="none" id="App-to-App-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.78,150.1564,446.6523,154.4322,442.7776,150.3107,446.8991,146.436,437.78,150.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8589" x="910.5" y="152.8516">31b2a. Store token</text></g><!--link App to App--><g class="link" data-entity-1="App" data-entity-2="App" data-source-line="89" data-uid="lnk74" id="link_App_App"><path codeLine="89" d="M437.62,144.0464 C594.55,138.0264 1025.5,139.1364 1025.5,147.3564 C1025.5,155.5764 600.5456,156.9164 443.6156,150.8964" fill="none" id="App-to-App-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="437.62,150.6664,446.4601,155.0085,442.6163,150.8581,446.7667,147.0144,437.62,150.6664" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.3188" x="1031.5" y="152.8516">41b2b2b. Store token</text></g><!--link AuthService to UserService--><g class="link" data-entity-1="AuthService" data-entity-2="UserService" data-source-line="32" data-uid="lnk26" id="link_AuthService_UserService"><path codeLine="32" d="M1871.05,128.1564 C1885.39,114.3964 1906.75,97.0064 1929.5,89.3564 C1959.62,79.2264 2040.72,89.0864 2072.5,89.3564 C3103.94,98.0264 3362.9,75.0764 4393,128.3564 C4452.27,131.4264 4514.3708,137.1689 4558.6808,141.6789" fill="none" id="AuthService-to-UserService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4564.65,142.2864,4556.1013,137.3957,4559.6757,141.7801,4555.2912,145.3545,4564.65,142.2864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.6162" x="1930.5" y="94.8516">16b. Check if user exists</text></g><!--link UserService to AuthService--><g class="link" data-entity-1="UserService" data-entity-2="AuthService" data-source-line="36" data-uid="lnk29" id="link_UserService_AuthService"><path codeLine="36" d="M4564.65,142.2864 C4520.34,137.7764 4452.27,131.4264 4393,128.3564 C3362.9,75.0764 3103.94,98.0264 2072.5,89.3564 C2040.72,89.0864 1959.62,79.2264 1929.5,89.3564 C1906.75,97.0064 1889.7193,110.2423 1875.3793,124.0023" fill="none" id="UserService-to-AuthService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1871.05,128.1564,1880.3134,124.8114,1874.6577,124.6946,1874.7745,119.039,1871.05,128.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.418" x="1940.5" y="94.8516">19b1. User not found</text></g><!--link UserService to AuthService--><g class="link" data-entity-1="UserService" data-entity-2="AuthService" data-source-line="41" data-uid="lnk33" id="link_UserService_AuthService"><path codeLine="41" d="M4564.65,142.2864 C4520.34,137.7764 4452.27,131.4264 4393,128.3564 C3362.9,75.0764 3103.94,98.0264 2072.5,89.3564 C2040.72,89.0864 1959.62,79.2264 1929.5,89.3564 C1906.75,97.0064 1889.7193,110.2423 1875.3793,124.0023" fill="none" id="UserService-to-AuthService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1871.05,128.1564,1880.3134,124.8114,1874.6577,124.6946,1874.7745,119.039,1871.05,128.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.7344" x="1951.5" y="94.8516">19b2. User found</text></g><!--link AuthService to UserService--><g class="link" data-entity-1="AuthService" data-entity-2="UserService" data-source-line="42" data-uid="lnk34" id="link_AuthService_UserService"><path codeLine="42" d="M1871.05,128.1564 C1885.39,114.3964 1906.75,97.0064 1929.5,89.3564 C1959.62,79.2264 2040.72,89.0864 2072.5,89.3564 C3103.94,98.0264 3362.9,75.0764 4393,128.3564 C4452.27,131.4264 4514.3708,137.1689 4558.6808,141.6789" fill="none" id="AuthService-to-UserService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4564.65,142.2864,4556.1013,137.3957,4559.6757,141.7801,4555.2912,145.3545,4564.65,142.2864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.188" x="1937.5" y="94.8516">20b2. Get user details</text></g><!--link UserService to AuthService--><g class="link" data-entity-1="UserService" data-entity-2="AuthService" data-source-line="45" data-uid="lnk37" id="link_UserService_AuthService"><path codeLine="45" d="M4564.65,142.2864 C4520.34,137.7764 4452.27,131.4264 4393,128.3564 C3362.9,75.0764 3103.94,98.0264 2072.5,89.3564 C2040.72,89.0864 1959.62,79.2264 1929.5,89.3564 C1906.75,97.0064 1889.7193,110.2423 1875.3793,124.0023" fill="none" id="UserService-to-AuthService-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1871.05,128.1564,1880.3134,124.8114,1874.6577,124.6946,1874.7745,119.039,1871.05,128.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7808" x="1949" y="94.8516">23b2. User details</text></g><!--link AuthService to UserService--><g class="link" data-entity-1="AuthService" data-entity-2="UserService" data-source-line="66" data-uid="lnk54" id="link_AuthService_UserService"><path codeLine="66" d="M1871.05,128.1564 C1885.39,114.3964 1906.75,97.0064 1929.5,89.3564 C1959.62,79.2264 2040.72,89.0864 2072.5,89.3564 C3103.94,98.0264 3362.9,75.0764 4393,128.3564 C4452.27,131.4264 4514.3708,137.1689 4558.6808,141.6789" fill="none" id="AuthService-to-UserService-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4564.65,142.2864,4556.1013,137.3957,4559.6757,141.7801,4555.2912,145.3545,4564.65,142.2864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.9307" x="1911.5" y="94.8516">34b2b1. Mark account for reset</text></g><!--link UserService to AuthService--><g class="link" data-entity-1="UserService" data-entity-2="AuthService" data-source-line="68" data-uid="lnk56" id="link_UserService_AuthService"><path codeLine="68" d="M4564.65,142.2864 C4520.34,137.7764 4452.27,131.4264 4393,128.3564 C3362.9,75.0764 3103.94,98.0264 2072.5,89.3564 C2040.72,89.0864 1959.62,79.2264 1929.5,89.3564 C1906.75,97.0064 1889.7193,110.2423 1875.3793,124.0023" fill="none" id="UserService-to-AuthService-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1871.05,128.1564,1880.3134,124.8114,1874.6577,124.6946,1874.7745,119.039,1871.05,128.1564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.8315" x="1903.5" y="94.8516">36b2b1. Account marked for reset</text></g><!--link UserService to DB--><g class="link" data-entity-1="UserService" data-entity-2="DB" data-source-line="33" data-uid="lnk27" id="link_UserService_DB"><path codeLine="33" d="M4592.79,166.3764 C4581.49,176.1964 4566.35,187.1764 4550.5,192.3564 C4533.5,197.9164 4406.25,198.6464 4389.5,192.3564 C4375.72,187.1864 4367.3429,180.8066 4358.1029,171.1266" fill="none" id="UserService-to-DB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4353.96,166.7864,4357.2809,176.0585,4357.4124,170.4032,4363.0677,170.5347,4353.96,166.7864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3188" x="4395" y="188.8516">17b. Query user by phone</text></g><!--link DB to UserService--><g class="link" data-entity-1="DB" data-entity-2="UserService" data-source-line="34" data-uid="lnk28" id="link_DB_UserService"><path codeLine="34" d="M4351.26,127.9864 C4359.09,118.3264 4369.93,107.6064 4382.5,102.3564 C4400.44,94.8664 4539.2,95.7764 4557.5,102.3564 C4571.82,107.5064 4580.7727,114.0187 4590.6127,123.6987" fill="none" id="DB-to-UserService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4594.89,127.9064,4591.2792,118.7433,4591.3256,124.4,4585.6689,124.4464,4594.89,127.9064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9517" x="4404" y="92.8516">18b. User data (or null)</text></g><!--link UserService to DB--><g class="link" data-entity-1="UserService" data-entity-2="DB" data-source-line="43" data-uid="lnk35" id="link_UserService_DB"><path codeLine="43" d="M4564.73,147.3564 C4511,147.3564 4430.4,147.3564 4381.24,147.3564" fill="none" id="UserService-to-DB-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4375.24,147.3564,4384.24,151.3564,4380.24,147.3564,4384.24,143.3564,4375.24,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.437" x="4383.5" y="140.8516">21b2. Get user account status</text></g><!--link DB to UserService--><g class="link" data-entity-1="DB" data-entity-2="UserService" data-source-line="44" data-uid="lnk36" id="link_DB_UserService"><path codeLine="44" d="M4375.21,128.3864 C4377.64,127.5864 4380.08,126.8964 4382.5,126.3564 C4420.45,117.8564 4519.27,119.2464 4557.5,126.3564 C4560.29,126.8764 4557.3189,126.0045 4560.1589,126.7545" fill="none" id="DB-to-UserService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4565.96,128.2864,4558.2796,122.1211,4561.1257,127.0098,4556.237,129.8559,4565.96,128.2864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.9243" x="4393.5" y="116.8516">22b2. User account details</text></g><!--link UserService to DB--><g class="link" data-entity-1="UserService" data-entity-2="DB" data-source-line="67" data-uid="lnk55" id="link_UserService_DB"><path codeLine="67" d="M4564.72,165.2164 C4559.97,166.4964 4555.17,167.5764 4550.5,168.3564 C4515.21,174.2164 4424.61,175.2364 4389.5,168.3564 C4384.76,167.4264 4385.5985,167.9646 4380.8585,166.3746" fill="none" id="UserService-to-DB-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4375.17,164.4664,4382.4306,171.121,4379.9104,166.0566,4384.9748,163.5364,4375.17,164.4664" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.7197" x="4390.5" y="164.8516">35b2b1. Update user status</text></g><!--link AuthService to IPAService--><g class="link" data-entity-1="AuthService" data-entity-2="IPAService" data-source-line="47" data-uid="lnk38" id="link_AuthService_IPAService"><path codeLine="47" d="M1929.73,144.2564 C2191.73,133.8464 3075.19,100.1964 3805.5,89.3564 C3846.61,88.7464 3953.73,70.9664 3990.5,89.3564 C4006.6,97.4064 4015.4855,109.2522 4022.6655,122.8322" fill="none" id="AuthService-to-IPAService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4025.47,128.1364,4024.7995,118.3104,4023.133,123.7162,4017.7272,122.0497,4025.47,128.1364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.5615" x="3806.5" y="94.8516">24b2. Check for default account</text></g><!--link IPAService to AuthService--><g class="link" data-entity-1="IPAService" data-entity-2="AuthService" data-source-line="51" data-uid="lnk41" id="link_IPAService_AuthService"><path codeLine="51" d="M4025.47,128.1364 C4018.29,114.5564 4006.6,97.4064 3990.5,89.3564 C3953.73,70.9664 3846.61,88.7464 3805.5,89.3564 C3075.19,100.1964 2197.7253,133.6082 1935.7253,144.0182" fill="none" id="IPAService-to-AuthService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.73,144.2564,1938.8817,147.896,1934.7261,144.0579,1938.5641,139.9023,1929.73,144.2564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7788" x="3822.5" y="94.8516">27b2a. No default account</text></g><!--link IPAService to AuthService--><g class="link" data-entity-1="IPAService" data-entity-2="AuthService" data-source-line="58" data-uid="lnk47" id="link_IPAService_AuthService"><path codeLine="58" d="M4025.47,128.1364 C4018.29,114.5564 4006.6,97.4064 3990.5,89.3564 C3953.73,70.9664 3846.61,88.7464 3805.5,89.3564 C3075.19,100.1964 2197.7253,133.6082 1935.7253,144.0182" fill="none" id="IPAService-to-AuthService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.73,144.2564,1938.8817,147.896,1934.7261,144.0579,1938.5641,139.9023,1929.73,144.2564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5488" x="3813" y="94.8516">27b2b. Default account exists</text></g><!--link AuthService to IPAService--><g class="link" data-entity-1="AuthService" data-entity-2="IPAService" data-source-line="76" data-uid="lnk63" id="link_AuthService_IPAService"><path codeLine="76" d="M1929.73,144.2564 C2191.73,133.8464 3075.19,100.1964 3805.5,89.3564 C3846.61,88.7464 3953.73,70.9664 3990.5,89.3564 C4006.6,97.4064 4015.4855,109.2522 4022.6655,122.8322" fill="none" id="AuthService-to-IPAService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4025.47,128.1364,4024.7995,118.3104,4023.133,123.7162,4017.7272,122.0497,4025.47,128.1364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9033" x="3798" y="94.8516">34b2b2. Verify IPA belongs to user</text></g><!--link IPAService to AuthService--><g class="link" data-entity-1="IPAService" data-entity-2="AuthService" data-source-line="80" data-uid="lnk66" id="link_IPAService_AuthService"><path codeLine="80" d="M4025.47,128.1364 C4018.29,114.5564 4006.6,97.4064 3990.5,89.3564 C3953.73,70.9664 3846.61,88.7464 3805.5,89.3564 C3075.19,100.1964 2197.7253,133.6082 1935.7253,144.0182" fill="none" id="IPAService-to-AuthService-2" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.73,144.2564,1938.8817,147.896,1934.7261,144.0579,1938.5641,139.9023,1929.73,144.2564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.2261" x="3808.5" y="94.8516">37b2b2a. IPA verification failed</text></g><!--link IPAService to AuthService--><g class="link" data-entity-1="IPAService" data-entity-2="AuthService" data-source-line="85" data-uid="lnk70" id="link_IPAService_AuthService"><path codeLine="85" d="M4025.47,128.1364 C4018.29,114.5564 4006.6,97.4064 3990.5,89.3564 C3953.73,70.9664 3846.61,88.7464 3805.5,89.3564 C3075.19,100.1964 2197.7253,133.6082 1935.7253,144.0182" fill="none" id="IPAService-to-AuthService-3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.73,144.2564,1938.8817,147.896,1934.7261,144.0579,1938.5641,139.9023,1929.73,144.2564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.3062" x="3836" y="94.8516">37b2b2b. IPA verified</text></g><!--link IPAService to DB--><g class="link" data-entity-1="IPAService" data-entity-2="DB" data-source-line="48" data-uid="lnk39" id="link_IPAService_DB"><path codeLine="48" d="M4077.56,147.3564 C4137.48,147.3564 4238.33,147.3564 4294.74,147.3564" fill="none" id="IPAService-to-DB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4300.74,147.3564,4291.74,143.3564,4295.74,147.3564,4291.74,151.3564,4300.74,147.3564" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.897" x="4095.75" y="140.8516">25b2. Query default IPA account</text></g><!--link DB to IPAService--><g class="link" data-entity-1="DB" data-entity-2="IPAService" data-source-line="49" data-uid="lnk40" id="link_DB_IPAService"><path codeLine="49" d="M4300.88,130.9364 C4295.24,129.0364 4289.41,127.4164 4283.75,126.3564 C4242.46,118.6464 4136.17,119.3964 4094.75,126.3564 C4089.14,127.2964 4089.1137,127.0293 4083.4437,128.6693" fill="none" id="DB-to-IPAService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4077.68,130.3364,4087.437,131.6783,4082.4831,128.9472,4085.2142,123.9933,4077.68,130.3364" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1543" x="4102.25" y="116.8516">26b2. Default account (or null)</text></g><!--link IPAService to DB--><g class="link" data-entity-1="IPAService" data-entity-2="DB" data-source-line="77" data-uid="lnk64" id="link_IPAService_DB"><path codeLine="77" d="M4077.68,163.0864 C4085.44,165.2764 4093.51,167.1764 4101.25,168.3564 C4139.91,174.2564 4238.68,174.8364 4277.25,168.3564 C4285.06,167.0464 4287.5133,166.6993 4295.2133,164.1993" fill="none" id="IPAService-to-DB-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4300.92,162.3464,4291.1246,161.3212,4296.1644,163.8905,4293.5951,168.9302,4300.92,162.3464" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.8843" x="4102.25" y="164.8516">35b2b2. Check IPA ownership</text></g><!--link DB to IPAService--><g class="link" data-entity-1="DB" data-entity-2="IPAService" data-source-line="78" data-uid="lnk65" id="link_DB_IPAService"><path codeLine="78" d="M4319.06,166.3764 C4307.92,176.1964 4292.95,187.1764 4277.25,192.3564 C4258.68,198.4864 4119.96,198.0364 4101.25,192.3564 C4084.31,187.2164 4072.4709,179.9422 4060.0209,170.1222" fill="none" id="DB-to-IPAService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="4055.31,166.4064,4059.8992,175.1207,4059.2358,169.5029,4064.8536,168.8395,4055.31,166.4064" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3125" x="4114.25" y="188.8516">36b2b2. Verification result</text></g><!--link AuthService to AuthService--><g class="link" data-entity-1="AuthService" data-entity-2="AuthService" data-source-line="52" data-uid="lnk42" id="link_AuthService_AuthService"><path codeLine="52" d="M1929.61,143.8264 C1949.5,144.0464 1964.5,145.2264 1964.5,147.3564 C1964.5,149.4864 1955.4996,150.6001 1935.6096,150.8201" fill="none" id="AuthService-to-AuthService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.61,150.8864,1938.6537,154.7867,1934.6097,150.8311,1938.5652,146.7871,1929.61,150.8864" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0615" x="1970.5" y="152.8516">28b2a. Generate access token</text></g><!--link AuthService to AuthService--><g class="link" data-entity-1="AuthService" data-entity-2="AuthService" data-source-line="86" data-uid="lnk71" id="link_AuthService_AuthService"><path codeLine="86" d="M1929.63,141.6864 C2021,138.5764 2153.5,140.4664 2153.5,147.3564 C2153.5,154.2464 2026.9965,156.3406 1935.6265,153.2306" fill="none" id="AuthService-to-AuthService-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1929.63,153.0264,1938.4887,157.3303,1934.6271,153.1965,1938.7609,149.3349,1929.63,153.0264" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.5215" x="2159.5" y="152.8516">38b2b2b. Generate access token</text></g><!--SRC=[bLRBSjis5DtpA-vu4tiXMI9fMygYCqxKP38T9wvLPm-Aa8IQ0bW0jAD-VUy5I8eloUfA3vm3tCUv1_W02xuMaaFEj1KhaJDfJQ2Il_dAmiMpuVe2c07wKl_xXML6FR8ztEUvMyNFUl7-yHjyPPQ_iRrRAxyVrWkxvHAFObOe2KkkNyMA-srmgVnTmxyhAzP3OBVGHLEOBHJzqGLzUxnlOV1t5x9WbYNC-FN5fo3u00_S6BRX1YuB8-G6Tluto6ANS6t0AX0ofKWvA9roVHMuQ4Q_KNdW8qp7yBkq-4- -LRBY1RI6aB9A20l7yFXZ-HTSirnSCwp8jUR_5DpOqKgbFAY0jEsXNCYBnl3aWV3AzQ5cZjM48hDPEwJ6O_ZA9TSKUf_R0lV9DmsoPZ9LkxDejsFiWKnX-R24Ds6tGwHUZdTZ-8mmC2YWTawj4ix644ucyECFkApXLuVArHsPrxX316K_ofPDC4ghz51P712Hhia8hTlRXtQ541w7je_7dluao1uuuNdgGB1ZThL59HeABItFwCOJip4iXCapJ9bhhNIjs4knHgc-ianuxbNGL-4qJdewpDH6ICTkSeyASdg3MpIcdKD19jAHOcD0YNEBdCzRlde1F8Rmm7y9WuxKn25jyOdGTuZ-i-1wxw79tizMWAkZ_jupHBlgf3ZTS8aLaKMMNGNjlVjvp9DfIPJAmbeLCZqXld12y7WIa-BXYqFtfHTE-wXE1yEG84yy5Pey2Vr5ymtMGZkvd15rM4Oz476tDXXqI7DiVI5JRfd8XekEaJUXRBN2xIrgaTd235SUCwbYgU239_II2AEQM16wUHpCc_0nuRr-ref8QrPajZerQ83hT6w8uaLKmUc2g2XbGkrZRecpQ6_U55Jpd7vITqc8i_bTzSBhfDQXpHojzbeauJoZB5wuF2N7kQCrVSvJ-fgC9aUWBLEAfWxbRR6nVX1k53f4PJufCzj4CPsUKPUaNzPo_azaE7EyPjYvLhlS3etT_1YscyF40RrDEpsagQPwawoQjjqrToeFpUsIP-ubySGDZigzJ-QYRxHKBCBtxdoaZIfX7B_qewHq2JgbAbdvO3Wzyb7igGzClzHCoiuTFJZwqOsdFETfPUVLt9-Uu-ZM4yiou0McN_3YEfnslBlHdQVwbWsfTjO2TFiuJywmqKxxme767-bS_xNcnB4VuKFwdRQ5zUMEnvoqDTUg5XmIdYcvSQzETwiEE9lhLcs7H59lw1rcA_91LtDDgawf7YMOEWxZEvFhUaGZJuUqtZHhz6n-whPqtIDgF9d2iwGAAYt-vKDtfklb8BRJz7YIj2sezVuvAvcacGnFJrkpJoBv_-RiCqhEisUVLVAkGSVJ4dV2ekEmnFHD-Zy0]--></g></svg>