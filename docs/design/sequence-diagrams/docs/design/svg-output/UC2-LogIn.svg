<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2601px" preserveAspectRatio="none" style="width:1482px;height:2601px;background:#FFFFFF;" version="1.1" viewBox="0 0 1482 2601" width="1482px" zoomAndPan="magnify"><title>UC-2: Log In</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.207" x="700.707" y="29.5332">UC-2: Log In</text><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="2312.7891" style="stroke:#181818;stroke-width:1;" width="10" x="317.8281" y="153.5703"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="2208.7344" style="stroke:#181818;stroke-width:1;" width="10" x="588.8496" y="183.9219"/></g><g><title>Authentication Service</title><rect fill="#FFFFFF" height="2148.0313" style="stroke:#181818;stroke-width:1;" width="10" x="763.8203" y="214.2734"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="117.0547" style="stroke:#181818;stroke-width:1;" width="10" x="944.5737" y="244.625"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="375.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1112.2681" y="732.3828"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1112.2681" y="1685.6016"/></g><g><title>IPA Service</title><rect fill="#FFFFFF" height="1150.8125" style="stroke:#181818;stroke-width:1;" width="10" x="1212.9023" y="1137.7891"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="762.7344"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1046.7344"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1168.1406"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1746.3047"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="2065.3047"/></g><rect fill="none" height="1917.5703" style="stroke:#000000;stroke-width:1.5;" width="1465.6211" x="10" y="584.7891"/><rect fill="none" height="1687.2734" style="stroke:#000000;stroke-width:1.5;" width="1445.6211" x="20" y="808.0859"/><rect fill="none" height="1274.8672" style="stroke:#000000;stroke-width:1.5;" width="1425.6211" x="30" y="1213.4922"/><rect fill="none" height="897.1641" style="stroke:#000000;stroke-width:1.5;" width="1405.6211" x="40" y="1584.1953"/><rect fill="none" height="363.7031" style="stroke:#000000;stroke-width:1.5;" width="1221.4712" x="50" y="2110.6563"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="73.7793" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="121.2188" y2="2519.3594"/></g><g><title>FalsoPay App</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="318.8281" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="322.249" x2="322.249" y1="121.2188" y2="2519.3594"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="589.8496" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="592.998" x2="592.998" y1="121.2188" y2="2519.3594"/></g><g><title>Authentication Service</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="764.8203" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="768.1689" x2="768.1689" y1="121.2188" y2="2519.3594"/></g><g><title>Notification Service</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="945.5737" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948.6602" x2="948.6602" y1="121.2188" y2="2519.3594"/></g><g><title>User Service</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="1113.2681" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1117.2026" x2="1117.2026" y1="121.2188" y2="2519.3594"/></g><g><title>IPA Service</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="1213.9023" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1217.3335" x2="1217.3335" y1="121.2188" y2="2519.3594"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="2398.1406" width="8" x="1394.6558" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1397.6904" x2="1397.6904" y1="121.2188" y2="2519.3594"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="60" y="118.1426">User</text><ellipse cx="77.7793" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.7793,60.1094 L77.7793,87.1094 M64.7793,68.1094 L90.7793,68.1094 M77.7793,87.1094 L64.7793,102.1094 M77.7793,87.1094 L90.7793,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="60" y="2532.8926">User</text><ellipse cx="77.7793" cy="2544.4688" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.7793,2552.4688 L77.7793,2579.4688 M64.7793,2560.4688 L90.7793,2560.4688 M77.7793,2579.4688 L64.7793,2594.4688 M77.7793,2579.4688 L90.7793,2594.4688" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="272.249" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="279.249" y="110.1426">FalsoPay App</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="272.249" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="279.249" y="2539.8926">FalsoPay App</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="545.998" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="552.998" y="110.1426">API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="545.998" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="552.998" y="2539.8926">API Gateway</text></g><g class="participant participant-head" data-participant="AuthService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.3027" x="692.1689" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3027" x="699.1689" y="110.1426">Authentication Service</text></g><g class="participant participant-tail" data-participant="AuthService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.3027" x="692.1689" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3027" x="699.1689" y="2539.8926">Authentication Service</text></g><g class="participant participant-head" data-participant="NotifService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="882.6602" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="889.6602" y="110.1426">Notification Service</text></g><g class="participant participant-tail" data-participant="NotifService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="882.6602" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="889.6602" y="2539.8926">Notification Service</text></g><g class="participant participant-head" data-participant="UserService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1309" x="1070.2026" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1309" x="1077.2026" y="110.1426">User Service</text></g><g class="participant participant-tail" data-participant="UserService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1309" x="1070.2026" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1309" x="1077.2026" y="2539.8926">User Service</text></g><g class="participant participant-head" data-participant="IPAService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1377" x="1174.3335" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1377" x="1181.3335" y="110.1426">IPA Service</text></g><g class="participant participant-tail" data-participant="IPAService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1377" x="1174.3335" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1377" x="1181.3335" y="2539.8926">IPA Service</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9307" x="1361.6904" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1368.6904" y="110.1426">Database</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.9307" x="1361.6904" y="2518.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1368.6904" y="2539.8926">Database</text></g><g><title>FalsoPay App</title><rect fill="#FFFFFF" height="2312.7891" style="stroke:#181818;stroke-width:1;" width="10" x="317.8281" y="153.5703"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="2208.7344" style="stroke:#181818;stroke-width:1;" width="10" x="588.8496" y="183.9219"/></g><g><title>Authentication Service</title><rect fill="#FFFFFF" height="2148.0313" style="stroke:#181818;stroke-width:1;" width="10" x="763.8203" y="214.2734"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="117.0547" style="stroke:#181818;stroke-width:1;" width="10" x="944.5737" y="244.625"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="375.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1112.2681" y="732.3828"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1112.2681" y="1685.6016"/></g><g><title>IPA Service</title><rect fill="#FFFFFF" height="1150.8125" style="stroke:#181818;stroke-width:1;" width="10" x="1212.9023" y="1137.7891"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="762.7344"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1046.7344"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1168.1406"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="1746.3047"/></g><g><title>Database</title><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1;" width="10" x="1393.6558" y="2065.3047"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="305.8281,149.5703,315.8281,153.5703,305.8281,157.5703,309.8281,153.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="77.7793" x2="311.8281" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.5234" x="84.7793" y="148.7139">Enter phone number</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="576.8496,179.9219,586.8496,183.9219,576.8496,187.9219,580.8496,183.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="582.8496" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3716" x="334.8281" y="179.0654">POST /api/auth/request-code</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AuthService"><polygon fill="#181818" points="751.8203,210.2734,761.8203,214.2734,751.8203,218.2734,755.8203,214.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="598.8496" x2="757.8203" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9707" x="605.8496" y="209.417">Request verification code</text></g><g class="message" data-participant-1="AuthService" data-participant-2="NotifService"><polygon fill="#181818" points="932.5737,240.625,942.5737,244.625,932.5737,248.625,936.5737,244.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="938.5737" y1="244.625" y2="244.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7534" x="780.8203" y="239.7686">Generate verification code</text></g><g class="message" data-participant-1="NotifService" data-participant-2="NotifService"><line style="stroke:#181818;stroke-width:1;" x1="954.5737" x2="996.5737" y1="274.9766" y2="274.9766"/><line style="stroke:#181818;stroke-width:1;" x1="996.5737" x2="996.5737" y1="274.9766" y2="287.9766"/><line style="stroke:#181818;stroke-width:1;" x1="955.5737" x2="996.5737" y1="287.9766" y2="287.9766"/><polygon fill="#181818" points="965.5737,283.9766,955.5737,287.9766,965.5737,291.9766,961.5737,287.9766" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6943" x="961.5737" y="270.1201">Generate random code</text></g><g class="message" data-participant-1="NotifService" data-participant-2="NotifService"><line style="stroke:#181818;stroke-width:1;" x1="954.5737" x2="996.5737" y1="318.3281" y2="318.3281"/><line style="stroke:#181818;stroke-width:1;" x1="996.5737" x2="996.5737" y1="318.3281" y2="331.3281"/><line style="stroke:#181818;stroke-width:1;" x1="955.5737" x2="996.5737" y1="331.3281" y2="331.3281"/><polygon fill="#181818" points="965.5737,327.3281,955.5737,331.3281,965.5737,335.3281,961.5737,331.3281" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6753" x="961.5737" y="313.4717">Send SMS with code</text></g><g class="message" data-participant-1="NotifService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,357.6797,774.8203,361.6797,784.8203,365.6797,780.8203,361.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="948.5737" y1="361.6797" y2="361.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.2617" x="790.8203" y="356.8232">Code sent</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,388.0313,599.8496,392.0313,609.8496,396.0313,605.8496,392.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="392.0313" y2="392.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.6162" x="615.8496" y="387.1748">200 OK (Code sent)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,418.3828,328.8281,422.3828,338.8281,426.3828,334.8281,422.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="422.3828" y2="422.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6162" x="344.8281" y="417.5264">200 OK with code</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="369.8281" y1="452.7344" y2="452.7344"/><line style="stroke:#181818;stroke-width:1;" x1="369.8281" x2="369.8281" y1="452.7344" y2="465.7344"/><line style="stroke:#181818;stroke-width:1;" x1="328.8281" x2="369.8281" y1="465.7344" y2="465.7344"/><polygon fill="#181818" points="338.8281,461.7344,328.8281,465.7344,338.8281,469.7344,334.8281,465.7344" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6226" x="334.8281" y="447.8779">Store verification code</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,492.0859,78.7793,496.0859,88.7793,500.0859,84.7793,496.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="316.8281" y1="496.0859" y2="496.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0488" x="94.7793" y="491.2295">Prompt user to enter verification code</text></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="305.8281,522.4375,315.8281,526.4375,305.8281,530.4375,309.8281,526.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="77.7793" x2="311.8281" y1="526.4375" y2="526.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6226" x="84.7793" y="521.5811">Enter verification code</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="369.8281" y1="556.7891" y2="556.7891"/><line style="stroke:#181818;stroke-width:1;" x1="369.8281" x2="369.8281" y1="556.7891" y2="569.7891"/><line style="stroke:#181818;stroke-width:1;" x1="328.8281" x2="369.8281" y1="569.7891" y2="569.7891"/><polygon fill="#181818" points="338.8281,565.7891,328.8281,569.7891,338.8281,573.7891,334.8281,569.7891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.0215" x="334.8281" y="551.9326">Verify entered code matches stored code</text></g><path d="M10,584.7891 L70.1709,584.7891 L70.1709,593.1406 L60.1709,603.1406 L10,603.1406 L10,584.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1917.5703" style="stroke:#000000;stroke-width:1.5;" width="1465.6211" x="10" y="584.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="599.2842">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="70.8984" x="85.1709" y="598.208">[Invalid code]</text><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,621.4922,78.7793,625.4922,88.7793,629.4922,84.7793,625.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="316.8281" y1="625.4922" y2="625.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.8774" x="94.7793" y="620.6357">Display error message: "Invalid code"</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="1475.6211" y1="634.4922" y2="634.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62.3423" x="15" y="645.9111">[Valid code]</text><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="576.8496,667.6797,586.8496,671.6797,576.8496,675.6797,580.8496,671.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="582.8496" y1="671.6797" y2="671.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.958" x="334.8281" y="666.8232">POST /api/auth/login</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AuthService"><polygon fill="#181818" points="751.8203,698.0313,761.8203,702.0313,751.8203,706.0313,755.8203,702.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="598.8496" x2="757.8203" y1="702.0313" y2="702.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1753" x="605.8496" y="697.1748">Authenticate user</text></g><g class="message" data-participant-1="AuthService" data-participant-2="UserService"><polygon fill="#181818" points="1100.2681,728.3828,1110.2681,732.3828,1100.2681,736.3828,1104.2681,732.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="1106.2681" y1="732.3828" y2="732.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.7026" x="780.8203" y="727.5264">Check if user exists</text></g><g class="message" data-participant-1="UserService" data-participant-2="DB"><polygon fill="#181818" points="1381.6558,758.7344,1391.6558,762.7344,1381.6558,766.7344,1385.6558,762.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1122.2681" x2="1387.6558" y1="762.7344" y2="762.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.4053" x="1129.2681" y="757.8779">Query user by phone</text></g><g class="message" data-participant-1="DB" data-participant-2="UserService"><polygon fill="#181818" points="1133.2681,789.0859,1123.2681,793.0859,1133.2681,797.0859,1129.2681,793.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1127.2681" x2="1397.6558" y1="793.0859" y2="793.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0381" x="1139.2681" y="788.2295">User data (or null)</text></g><path d="M20,808.0859 L80.1709,808.0859 L80.1709,816.4375 L70.1709,826.4375 L20,826.4375 L20,808.0859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1687.2734" style="stroke:#000000;stroke-width:1.5;" width="1445.6211" x="20" y="808.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="35" y="822.5811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85.54" x="95.1709" y="821.5049">[User not found]</text><g class="message" data-participant-1="UserService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,844.7891,774.8203,848.7891,784.8203,852.7891,780.8203,848.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1111.2681" y1="848.7891" y2="848.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.2744" x="790.8203" y="843.9326">User not found</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,875.1406,599.8496,879.1406,609.8496,883.1406,605.8496,879.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="879.1406" y2="879.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0044" x="615.8496" y="874.2842">404 Not Found</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,905.4922,328.8281,909.4922,338.8281,913.4922,334.8281,909.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="909.4922" y2="909.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0044" x="344.8281" y="904.6357">404 Not Found</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,935.8438,78.7793,939.8438,88.7793,943.8438,84.7793,939.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="82.7793" x2="316.8281" y1="939.8438" y2="939.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7808" x="94.7793" y="934.9873">Redirect to registration</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="1465.6211" y1="948.8438" y2="948.8438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="65.3823" x="25" y="960.2627">[User found]</text><g class="message" data-participant-1="UserService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,982.0313,774.8203,986.0313,784.8203,990.0313,780.8203,986.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1111.2681" y1="986.0313" y2="986.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.5908" x="790.8203" y="981.1748">User found</text></g><g class="message" data-participant-1="AuthService" data-participant-2="UserService"><polygon fill="#181818" points="1100.2681,1012.3828,1110.2681,1016.3828,1100.2681,1020.3828,1104.2681,1016.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="1106.2681" y1="1016.3828" y2="1016.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.0444" x="780.8203" y="1011.5264">Get user details</text></g><g class="message" data-participant-1="UserService" data-participant-2="DB"><polygon fill="#181818" points="1381.6558,1042.7344,1391.6558,1046.7344,1381.6558,1050.7344,1385.6558,1046.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1122.2681" x2="1387.6558" y1="1046.7344" y2="1046.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.2935" x="1129.2681" y="1041.8779">Get user account status</text></g><g class="message" data-participant-1="DB" data-participant-2="UserService"><polygon fill="#181818" points="1133.2681,1073.0859,1123.2681,1077.0859,1133.2681,1081.0859,1129.2681,1077.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1127.2681" x2="1397.6558" y1="1077.0859" y2="1077.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7808" x="1139.2681" y="1072.2295">User account details</text></g><g class="message" data-participant-1="UserService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,1103.4375,774.8203,1107.4375,784.8203,1111.4375,780.8203,1107.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1116.2681" y1="1107.4375" y2="1107.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6372" x="790.8203" y="1102.5811">User details</text></g><g class="message" data-participant-1="AuthService" data-participant-2="IPAService"><polygon fill="#181818" points="1200.9023,1133.7891,1210.9023,1137.7891,1200.9023,1141.7891,1204.9023,1137.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="1206.9023" y1="1137.7891" y2="1137.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.418" x="780.8203" y="1132.9326">Check for default account</text></g><g class="message" data-participant-1="IPAService" data-participant-2="DB"><polygon fill="#181818" points="1381.6558,1164.1406,1391.6558,1168.1406,1381.6558,1172.1406,1385.6558,1168.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1222.9023" x2="1387.6558" y1="1168.1406" y2="1168.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7534" x="1229.9023" y="1163.2842">Query default IPA account</text></g><g class="message" data-participant-1="DB" data-participant-2="IPAService"><polygon fill="#181818" points="1233.9023,1194.4922,1223.9023,1198.4922,1233.9023,1202.4922,1229.9023,1198.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1227.9023" x2="1397.6558" y1="1198.4922" y2="1198.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0107" x="1239.9023" y="1193.6357">Default account (or null)</text></g><path d="M30,1213.4922 L90.1709,1213.4922 L90.1709,1221.8438 L80.1709,1231.8438 L30,1231.8438 L30,1213.4922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1274.8672" style="stroke:#000000;stroke-width:1.5;" width="1425.6211" x="30" y="1213.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="45" y="1227.9873">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106.3315" x="105.1709" y="1226.9111">[No default account]</text><g class="message" data-participant-1="IPAService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,1250.1953,774.8203,1254.1953,784.8203,1258.1953,780.8203,1254.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1211.9023" y1="1254.1953" y2="1254.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.4053" x="790.8203" y="1249.3389">No default account</text></g><g class="message" data-participant-1="AuthService" data-participant-2="AuthService"><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="815.8203" y1="1284.5469" y2="1284.5469"/><line style="stroke:#181818;stroke-width:1;" x1="815.8203" x2="815.8203" y1="1284.5469" y2="1297.5469"/><line style="stroke:#181818;stroke-width:1;" x1="774.8203" x2="815.8203" y1="1297.5469" y2="1297.5469"/><polygon fill="#181818" points="784.8203,1293.5469,774.8203,1297.5469,784.8203,1301.5469,780.8203,1297.5469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.688" x="780.8203" y="1279.6904">Generate access token</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,1323.8984,599.8496,1327.8984,609.8496,1331.8984,605.8496,1327.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="1327.8984" y2="1327.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.228" x="615.8496" y="1323.042">200 OK with token</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,1354.25,328.8281,1358.25,338.8281,1362.25,334.8281,1358.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="1358.25" y2="1358.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.228" x="344.8281" y="1353.3936">200 OK with token</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="369.8281" y1="1388.6016" y2="1388.6016"/><line style="stroke:#181818;stroke-width:1;" x1="369.8281" x2="369.8281" y1="1388.6016" y2="1401.6016"/><line style="stroke:#181818;stroke-width:1;" x1="328.8281" x2="369.8281" y1="1401.6016" y2="1401.6016"/><polygon fill="#181818" points="338.8281,1397.6016,328.8281,1401.6016,338.8281,1405.6016,334.8281,1401.6016" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4854" x="334.8281" y="1383.7451">Store token</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,1427.9531,78.7793,1431.9531,88.7793,1435.9531,84.7793,1431.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="316.8281" y1="1431.9531" y2="1431.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6753" x="94.7793" y="1427.0967">Display dashboard</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="30" x2="1455.6211" y1="1440.9531" y2="1440.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.8477" x="35" y="1452.3721">[Has default account]</text><g class="message" data-participant-1="IPAService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,1474.1406,774.8203,1478.1406,784.8203,1482.1406,780.8203,1478.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1211.9023" y1="1478.1406" y2="1478.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.1753" x="790.8203" y="1473.2842">Default account exists</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,1504.4922,599.8496,1508.4922,609.8496,1512.4922,605.8496,1508.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="1508.4922" y2="1508.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8862" x="615.8496" y="1503.6357">200 OK with prompt</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,1534.8438,328.8281,1538.8438,338.8281,1542.8438,334.8281,1538.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="1538.8438" y2="1538.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8862" x="344.8281" y="1533.9873">200 OK with prompt</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,1565.1953,78.7793,1569.1953,88.7793,1573.1953,84.7793,1569.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="82.7793" x2="316.8281" y1="1569.1953" y2="1569.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.0298" x="94.7793" y="1564.3389">Enter IPA address for verification</text></g><path d="M40,1584.1953 L100.1709,1584.1953 L100.1709,1592.5469 L90.1709,1602.5469 L40,1602.5469 L40,1584.1953" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="897.1641" style="stroke:#000000;stroke-width:1.5;" width="1405.6211" x="40" y="1584.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="55" y="1598.6904">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="155.2783" x="115.1709" y="1597.6143">[User requests account reset]</text><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="305.8281,1620.8984,315.8281,1624.8984,305.8281,1628.8984,309.8281,1624.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="77.7793" x2="311.8281" y1="1624.8984" y2="1624.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.5166" x="84.7793" y="1620.042">Select "Reset Account"</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="576.8496,1651.25,586.8496,1655.25,576.8496,1659.25,580.8496,1655.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="582.8496" y1="1655.25" y2="1655.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.2534" x="334.8281" y="1650.3936">POST /api/auth/reset-account</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AuthService"><polygon fill="#181818" points="751.8203,1681.6016,761.8203,1685.6016,751.8203,1689.6016,755.8203,1685.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="598.8496" x2="757.8203" y1="1685.6016" y2="1685.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0762" x="605.8496" y="1680.7451">Reset account request</text></g><g class="message" data-participant-1="AuthService" data-participant-2="UserService"><polygon fill="#181818" points="1100.2681,1711.9531,1110.2681,1715.9531,1100.2681,1719.9531,1104.2681,1715.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="1106.2681" y1="1715.9531" y2="1715.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3271" x="780.8203" y="1711.0967">Mark account for reset</text></g><g class="message" data-participant-1="UserService" data-participant-2="DB"><polygon fill="#181818" points="1381.6558,1742.3047,1391.6558,1746.3047,1381.6558,1750.3047,1385.6558,1746.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1122.2681" x2="1387.6558" y1="1746.3047" y2="1746.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1162" x="1129.2681" y="1741.4482">Update user status</text></g><g class="message" data-participant-1="UserService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,1802.6563,774.8203,1806.6563,784.8203,1810.6563,780.8203,1806.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1116.2681" y1="1806.6563" y2="1806.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.228" x="790.8203" y="1801.7998">Account marked for reset</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,1833.0078,599.8496,1837.0078,609.8496,1841.0078,605.8496,1837.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="1837.0078" y2="1837.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="615.8496" y="1832.1514">200 OK</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,1863.3594,328.8281,1867.3594,338.8281,1871.3594,334.8281,1867.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="1867.3594" y2="1867.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="344.8281" y="1862.5029">200 OK</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,1893.7109,78.7793,1897.7109,88.7793,1901.7109,84.7793,1897.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="316.8281" y1="1897.7109" y2="1897.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7808" x="94.7793" y="1892.8545">Redirect to registration</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="40" x2="1445.6211" y1="1906.7109" y2="1906.7109"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89.2515" x="45" y="1918.1299">[User enters IPA]</text><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="305.8281,1939.8984,315.8281,1943.8984,305.8281,1947.8984,309.8281,1943.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="77.7793" x2="311.8281" y1="1943.8984" y2="1943.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.498" x="84.7793" y="1939.042">Enter IPA address</text></g><g class="message" data-participant-1="App" data-participant-2="Gateway"><polygon fill="#181818" points="576.8496,1970.25,586.8496,1974.25,576.8496,1978.25,580.8496,1974.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="582.8496" y1="1974.25" y2="1974.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.228" x="334.8281" y="1969.3936">POST /api/auth/verify-ipa</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AuthService"><polygon fill="#181818" points="751.8203,2000.6016,761.8203,2004.6016,751.8203,2008.6016,755.8203,2004.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="598.8496" x2="757.8203" y1="2004.6016" y2="2004.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.7954" x="605.8496" y="1999.7451">Verify IPA</text></g><g class="message" data-participant-1="AuthService" data-participant-2="IPAService"><polygon fill="#181818" points="1200.9023,2030.9531,1210.9023,2034.9531,1200.9023,2038.9531,1204.9023,2034.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="1206.9023" y1="2034.9531" y2="2034.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2998" x="780.8203" y="2030.0967">Verify IPA belongs to user</text></g><g class="message" data-participant-1="IPAService" data-participant-2="DB"><polygon fill="#181818" points="1381.6558,2061.3047,1391.6558,2065.3047,1381.6558,2069.3047,1385.6558,2065.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1222.9023" x2="1387.6558" y1="2065.3047" y2="2065.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2808" x="1229.9023" y="2060.4482">Check IPA ownership</text></g><g class="message" data-participant-1="DB" data-participant-2="IPAService"><polygon fill="#181818" points="1233.9023,2091.6563,1223.9023,2095.6563,1233.9023,2099.6563,1229.9023,2095.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1227.9023" x2="1397.6558" y1="2095.6563" y2="2095.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.709" x="1239.9023" y="2090.7998">Verification result</text></g><path d="M50,2110.6563 L110.1709,2110.6563 L110.1709,2119.0078 L100.1709,2129.0078 L50,2129.0078 L50,2110.6563" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="363.7031" style="stroke:#000000;stroke-width:1.5;" width="1221.4712" x="50" y="2110.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="65" y="2125.1514">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63.5615" x="125.1709" y="2124.0752">[Invalid IPA]</text><g class="message" data-participant-1="IPAService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,2147.3594,774.8203,2151.3594,784.8203,2155.3594,780.8203,2151.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1211.9023" y1="2151.3594" y2="2151.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3926" x="790.8203" y="2146.5029">IPA verification failed</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,2177.7109,599.8496,2181.7109,609.8496,2185.7109,605.8496,2181.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="762.8203" y1="2181.7109" y2="2181.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="615.8496" y="2176.8545">401 Unauthorized</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,2208.0625,328.8281,2212.0625,338.8281,2216.0625,334.8281,2212.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="587.8496" y1="2212.0625" y2="2212.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="344.8281" y="2207.2061">401 Unauthorized</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,2238.4141,78.7793,2242.4141,88.7793,2246.4141,84.7793,2242.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="316.8281" y1="2242.4141" y2="2242.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0444" x="94.7793" y="2237.5576">Display error message</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="50" x2="1271.4712" y1="2251.4141" y2="2251.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55.0054" x="55" y="2262.833">[Valid IPA]</text><g class="message" data-participant-1="IPAService" data-participant-2="AuthService"><polygon fill="#181818" points="784.8203,2284.6016,774.8203,2288.6016,784.8203,2292.6016,780.8203,2288.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="778.8203" x2="1216.9023" y1="2288.6016" y2="2288.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4727" x="790.8203" y="2283.7451">IPA verified</text></g><g class="message" data-participant-1="AuthService" data-participant-2="AuthService"><line style="stroke:#181818;stroke-width:1;" x1="773.8203" x2="815.8203" y1="2318.9531" y2="2318.9531"/><line style="stroke:#181818;stroke-width:1;" x1="815.8203" x2="815.8203" y1="2318.9531" y2="2331.9531"/><line style="stroke:#181818;stroke-width:1;" x1="774.8203" x2="815.8203" y1="2331.9531" y2="2331.9531"/><polygon fill="#181818" points="784.8203,2327.9531,774.8203,2331.9531,784.8203,2335.9531,780.8203,2331.9531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.688" x="780.8203" y="2314.0967">Generate access token</text></g><g class="message" data-participant-1="AuthService" data-participant-2="Gateway"><polygon fill="#181818" points="609.8496,2358.3047,599.8496,2362.3047,609.8496,2366.3047,605.8496,2362.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="603.8496" x2="767.8203" y1="2362.3047" y2="2362.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.228" x="615.8496" y="2357.4482">200 OK with token</text></g><g class="message" data-participant-1="Gateway" data-participant-2="App"><polygon fill="#181818" points="338.8281,2388.6563,328.8281,2392.6563,338.8281,2396.6563,334.8281,2392.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="332.8281" x2="592.8496" y1="2392.6563" y2="2392.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.228" x="344.8281" y="2387.7998">200 OK with token</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="327.8281" x2="369.8281" y1="2423.0078" y2="2423.0078"/><line style="stroke:#181818;stroke-width:1;" x1="369.8281" x2="369.8281" y1="2423.0078" y2="2436.0078"/><line style="stroke:#181818;stroke-width:1;" x1="328.8281" x2="369.8281" y1="2436.0078" y2="2436.0078"/><polygon fill="#181818" points="338.8281,2432.0078,328.8281,2436.0078,338.8281,2440.0078,334.8281,2436.0078" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4854" x="334.8281" y="2418.1514">Store token</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="88.7793,2462.3594,78.7793,2466.3594,88.7793,2470.3594,84.7793,2466.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="82.7793" x2="321.8281" y1="2466.3594" y2="2466.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6753" x="94.7793" y="2461.5029">Display dashboard</text></g><!--SRC=[fLXBRziu4BxhLmnyQWz6iaLFFYoGr6qss6sRZPlSQMbi4v55BKabTN_z3gaNAP6At0HmB4hp3OVVF6MMQY5XyQ1GBe0fC1T9oQJcAIzPeM7nXULAtB4JN9Mb5Q5lN-BgxXPkcCONTh82pVL0gD87B6ZDD1S5R50-ynHhXVIeMVkORqBpNGXX7mGXndvFrDm8IjxUNNc2j0xAhPbcMwPgeVLracYkSuI7JyiFA_X7xE6sI1AxxV9FmyqAFXUQLkL150X5TTmIeopL_9beiUGbzCy8DpojuExxvWTSi99VCABYGk9_5IgzJ4M6FR9bDMakx7OzSokuhs7mZB9dpTVXCfqu2wFBvNG5DrYWD909RPuNtCM4EicAJ1nhHTEG3HOPRBvku8NhGmWmFFyd4W55CPPa6BRHFxBhWG-Nb_3zRtZNwNZVqzowjP7fpMdSQ1zkA8r2P5aP4Z81GewMubXgg4oqQ05e0sKC2eLJH7KZysYUdcg5cDddS6GwFQ02PKpB6iqirnImpopdpHsWFz_8DLTbJWT7AQaq754fjYTw5oviaM2k41u3Uk9ndOizBwnWB8IT8e6M9IjTw_QZrKbhylm1qoVWkvfO_CcLLXRKXO5R1JgLpasZSdszWdyhbATQpVPKfx2lY0g0MQ-lEy8wAwpJCgeMy8vuAweyVszbdMXiqBLAyeI554B3JbH5Pc-F31jo5C54G_lZvKUJ1V354nz5TrYiyMWT6FUOSOcfDg4hSKyiInkELjh6WxNjtBFuyk433QY-mIQ9CjICvogyM-tIJfQbAUsaAH-Ohdh8q3cJxcrr3FST-tZUsIVq34DsYfo-TxN9i1D6-OvL56MDqUCJEoslVTRVybEYrMMwPbJVc47NiBLlpY1BuYps-n3ucuWUQsZ-aF1Ne0DAFMZNlWX8zP0Iu0cBE3hGMMpN6CCccqnWbr77YSYCYdd6r64hcEmJpIRiNpJJ_2wVGtywTVSiLahR5EVJ4f3tobJTBssWPfaqxZB9uFPF3-ijkgBSp62gEnqfGd_JDiDxZs1kgkFYteZ2LGrSZ32lJd-4NeQSCTKvwprxOwtr8_HaSPbJUByo-TJjOcYDqp8e8mzbrZRrOGKEUY9MMAPhHLJLP2bkN4KJatoYIIb-hYahfYYTvdYS676t-maHZgrv3Tkh0pQExVHeNuGYSUvFf4w6dHlZDXbFIth3cXtWpOGRCkwr27QRKAy6jfYBOc-AUJzgncfV7SDrQpLOyK8DGHruULRC1fhYeplM4vLKKDyQwkw87wBhjRfkpkUzRUneHC4ig6TYwlm37WhZR27vhmWwC8JEGCruMndXdBULjr4IiSbnKM2ecdJNssUFDyuWWJEulnFCSjpPExI_PiodQCReS-u853jzEKvhB7oOkswlpRVv_0y0]--></g></svg>